{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{2524:function(e,t,n){var a=n(2861);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]);var l={transform:void 0};n(5)(a,l);a.locals&&(e.exports=a.locals)},2855:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=n(1),d=x(r),o=x(n(0)),s=n(16),c=x(n(6)),u=n(21),f=x(n(367)),m=n(15),p=n(8),_=n(72),g=n(2485),y=x(n(2486)),b=x(n(2856)),h=x(n(948)),v=x(n(2859)),E=x(n(2864)),w=x(n(153)),O=x(n(2865)),R=x(n(2867)),C=x(n(2524));function x(e){return e&&e.__esModule?e:{default:e}}var N,P,S=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,r.Component),a(A,[{key:\"componentDidMount\",value:function(){var e=localStorage.getItem(\"token\"),t=\"/api/users/\"+(0,f.default)(e).userId;this.props.fetchEntities({url:t})}},{key:\"updateAdminForm\",value:function(e){var t=this.props.activeAccount,n=i({},e,{omitChairIds:e.omitChairIdsString?e.omitChairIdsString.split(\",\"):[],callrailId:e.callrailId||null,omitPractitionerIds:e.omitPractitionerIdsString?e.omitPractitionerIdsString.split(\",\"):[]}),a=(0,u.Map)(n),l=t.merge(a);this.props.updateEntityRequest({key:\"accounts\",model:l,alert:{success:{body:\"Updated Clinic Information\"},error:{title:\"Clinic Information Error\",body:\"Failed to update.\"}}})}},{key:\"sendEmailBlast\",value:function(){var e=this.props.activeAccount;return e.massOnlineEmailSentDate?alert(\"Sorry but you have already performed this email campaign.\"):window.confirm(\"Are you sure you want to send this email blast?\")&&window.confirm(\"Are you really sure?\")?(this.setState({previewOpen:!1}),this.props.sendEmailBlast(e.id)):null}},{key:\"updateApis\",value:(N=regeneratorRuntime.mark(function e(t){var n,a,l,i,r,o,s,u,d,c,f,m,p,_,g,y,b,h,v,E,w,O,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.activeAccount,l=n.address,i=t.reputationManagement,r=t.listings,o=t.callTracking,s=t.canSendReminders,(u={}).integrations=[],d={integrations:[]},c=a.callrailId,f=a.twilioPhoneNumber,m=a.vendastaAccountId,p=a.vendastaMsId,_=a.vendastaSrId,g=a.website,y=l.city,b=l.state,h=l.country,v=l.zipCode,E=l.street,w=l.timezone,y&&b&&h&&E&&v&&w&&g){e.next=10;break}return e.abrupt(\"return\",window.alert(\"Please enter Address and/or Clinic Website Info First\"));case 10:if(!m||i||r?m?(R={type:\"vendasta\",options:\"delete\"},(O={type:\"vendasta\",options:\"add\"}).reputationManagement=!_&&i,O.listings=!p&&r,R.reputationManagement=_&&!i,R.listings=p&&!r,(O.reputationManagement||O.listings)&&u.integrations.push(O),(R.reputationManagement||R.listings)&&d.integrations.push(R)):m||!i&&!r||u.integrations.push({type:\"vendasta\",options:\"createAdd\",reputationManagement:i,listings:r}):d.integrations.push({type:\"vendasta\",options:\"deleteAll\"}),s&&!f&&u.integrations.push({type:\"twilio\",options:\"create\"}),!s&&f&&d.integrations.push({type:\"twilio\",options:\"delete\"}),o&&!c&&u.integrations.push({type:\"callrail\",options:\"create\"}),!o&&c&&d.integrations.push({type:\"callrail\",options:\"delete\"}),u.integrations[0])return e.next=18,this.props.createEntityRequest({key:\"accounts\",url:\"/api/accounts/\"+a.id+\"/integrations\",entityData:u});e.next=18;break;case 18:if(d.integrations[0])return e.next=21,this.props.deleteEntityRequest({key:\"accounts\",url:\"/api/accounts/\"+a.id+\"/integrations\",values:d});e.next=21;break;case 21:return e.abrupt(\"return\",null);case 22:case\"end\":return e.stop()}},e,this)}),P=function(){var o=N.apply(this,arguments);return new Promise(function(i,r){return function t(e,n){try{var a=o[e](n),l=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(l).then(function(e){t(\"next\",e)},function(e){t(\"throw\",e)});i(l)}(\"next\")})},function(e){return P.apply(this,arguments)})},{key:\"openPreviewModal\",value:function(){this.setState({previewOpen:!this.state.previewOpen})}},{key:\"render\",value:function(){var e=this.props,t=e.activeAccount,n=e.users;if(!t)return null;var a=localStorage.getItem(\"token\"),l=(0,f.default)(a),i=null;n.forEach(function(e){return l.userId===e.id&&(i=e.role),null});var r=[d.default.createElement(p.Header,{title:\"API Accounts\",contentHeader:!0,key:\"API Accounts\"}),d.default.createElement(\"div\",{className:C.default.formContainer,key:\"API Accounts Form\"},d.default.createElement(b.default,{onSubmit:this.updateApis,formName:\"apis\",activeAccount:t}))],o=t.massOnlineEmailSentDate?(0,c.default)(t.massOnlineEmailSentDate).format(\"MMM DD, YYYY hh:mm A\"):null,s=\"/api/accounts/\"+t.id+\"/emails/preview/?templateName=General Introduction Announcement\",u=[{label:\"Cancel\",onClick:this.openPreviewModal,component:p.Button,props:{border:\"blue\"}},{label:\"Send Email Blast\",onClick:this.sendEmailBlast,component:p.Button,props:{color:\"blue\"}}];return\"SUPERADMIN\"===i&&d.default.createElement(h.default,{title:\"Super Admin\",bodyClass:C.default.generalBodyClass},d.default.createElement(p.Header,{contentHeader:!0,title:\"Practice Settings\",key:\"Practice Settings\"}),d.default.createElement(\"div\",{className:C.default.formContainer},d.default.createElement(v.default,{onSubmit:this.updateAdminForm,activeAccount:t})),d.default.createElement(p.Header,{contentHeader:!0,title:\"Cell Phone Number Order\",key:\"Cell Phone Number\"}),d.default.createElement(\"div\",{className:C.default.formContainer,key:\"Cell Phone Number Form\"},d.default.createElement(R.default,null)),r,d.default.createElement(E.default,{massOnlineDate:o,openPreviewModal:this.openPreviewModal,activeAccount:t,getEmailBlastCount:this.props.getEmailBlastCount}),d.default.createElement(p.DialogBox,{title:\"Email Blast Preview\",actions:u,active:this.state.previewOpen,onEscKeyDown:this.openPreviewModal,onOverlayClick:this.openPreviewModal,bodyStyles:C.default.modalBody},d.default.createElement(y.default,{url:s})),d.default.createElement(p.Header,{title:\"Chat\",contentHeader:!0}),d.default.createElement(\"div\",{className:C.default.formContainer},d.default.createElement(O.default,{activeAccount:t})))}}]),A);function A(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,A);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,e));return t.state={previewOpen:!1},t.sendEmailBlast=t.sendEmailBlast.bind(t),t.openPreviewModal=t.openPreviewModal.bind(t),t.updateApis=t.updateApis.bind(t),t.updateAdminForm=t.updateAdminForm.bind(t),t}S.propTypes={activeAccount:o.default.instanceOf(w.default).isRequired,updateEntityRequest:o.default.func.isRequired,createEntityRequest:o.default.func.isRequired,deleteEntityRequest:o.default.func.isRequired,fetchEntities:o.default.func.isRequired,sendEmailBlast:o.default.func.isRequired,getEmailBlastCount:o.default.func.isRequired,users:o.default.instanceOf(u.Map).isRequired};t.default=(0,m.connect)(function(e){var t=e.entities,n=e.auth,a=t.getIn([\"accounts\",\"models\",n.get(\"accountId\")]),l=t.getIn([\"addresses\",\"models\"]),i=void 0;return a&&a.addressId&&(i=l.get(a.addressId)),{activeAccount:a,address:i,users:t.getIn([\"users\",\"models\"])}},function(e){return(0,s.bindActionCreators)({fetchEntities:_.fetchEntities,downloadConnector:g.downloadConnector,sendEmailBlast:g.sendEmailBlast,getEmailBlastCount:g.getEmailBlastCount,createEntityRequest:_.createEntityRequest,deleteEntityRequest:_.deleteEntityRequest,updateEntityRequest:_.updateEntityRequest},e)})(S)},2856:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var u=i(n(1)),a=i(n(0)),d=n(8),c=i(n(73)),f=n(954),l=n(59),m=i(n(2857));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.onSubmit,n=e.index,a=e.formName,l=e.activeAccount,i=l.callrailId,r=l.twilioPhoneNumber,o=l.vendastaMsId,s={reputationManagement:!!l.vendastaSrId,listings:!!o,canSendReminders:!!r,callTracking:!!i};return u.default.createElement(d.Form,{form:a,onSubmit:function(e){return t(e,n,a)},initialValues:s,destroyOnUnmount:!1,alignSave:\"left\"},u.default.createElement(f.Grid,{className:m.default.accountOptions},u.default.createElement(f.Row,{className:m.default.accountOptions_row},u.default.createElement(f.Col,{xs:12,sm:12,md:12,lg:6,className:m.default.accountOptions_column},u.default.createElement(\"div\",{className:m.default.displayFlex},u.default.createElement(\"span\",{className:m.default.icon},u.default.createElement(c.default,{icon:\"star\"})),u.default.createElement(\"span\",{className:m.default.accountOptions_text},\"Reputation Management\"),u.default.createElement(\"div\",null,u.default.createElement(d.Field,{component:\"Toggle\",name:\"reputationManagement\"}))),u.default.createElement(\"div\",{className:m.default.displayFlex},u.default.createElement(\"span\",{className:m.default.icon},u.default.createElement(c.default,{icon:\"star\"})),u.default.createElement(\"span\",{className:m.default.accountOptions_text},\"Directory Listings\"),u.default.createElement(\"div\",null,u.default.createElement(d.Field,{component:\"Toggle\",name:\"listings\"}))),u.default.createElement(\"div\",{className:m.default.displayFlex},u.default.createElement(\"span\",{className:m.default.icon},u.default.createElement(c.default,{icon:\"clock\"})),u.default.createElement(\"span\",{className:m.default.accountOptions_text},\"Twilio\"),u.default.createElement(\"div\",null,u.default.createElement(d.Field,{component:\"Toggle\",name:\"canSendReminders\"}))),u.default.createElement(\"div\",{className:m.default.displayFlex},u.default.createElement(\"span\",{className:m.default.icon},u.default.createElement(c.default,{icon:\"phone\"})),u.default.createElement(\"span\",{className:m.default.accountOptions_text},\"Call Tracking\"),u.default.createElement(\"div\",null,u.default.createElement(d.Field,{component:\"Toggle\",name:\"callTracking\"})))))))}(t.default=r).propTypes={onSubmit:a.default.func,index:a.default.number,formName:a.default.string,activeAccount:a.default.shape(l.accountShape)}},2857:function(e,t,n){var a=n(2858);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]);var l={transform:void 0};n(5)(a,l);a.locals&&(e.exports=a.locals)},2858:function(e,t,n){(t=e.exports=n(4)(!1)).i(n(3),void 0),t.push([e.i,\".styles__borderTopRight___2rTHT{border-top-right-radius:4px}.styles__borderBottomRight___39mAq{border-bottom-right-radius:4px}.styles__borderTopLeft___ugf_P{border-top-left-radius:4px}.styles__borderBottomLeft___2kKic{border-bottom-left-radius:4px}.styles__ui-kit-smoother___1AnLw{transition:all .15s}.styles__mainContainer___hzSll{background:#fff;-webkit-animation:styles__fadeinform___1l2GK .9s;animation:styles__fadeinform___1l2GK .9s;padding:10px;position:relative}.styles__header___2Rn-e{box-sizing:border-box;display:flex;align-items:center;color:#2e3845}.styles__header_text___3FQQ_{padding-left:10px}.styles__header_icon___2S4H3{margin-left:auto;font-size:1rem;padding-right:15px;padding-top:15px;cursor:pointer;position:absolute;top:0;right:0}.styles__formContainer___oQtGR{margin:10px;display:flex;flex-direction:column}.styles__buttonContainer___31_8X{display:flex;align-items:center;width:100%;box-sizing:border-box;padding:0 10px 10px}.styles__nextButton___3SeZd{margin-left:auto}.styles__bulletContainer___2QYoK{display:flex}.styles__bulletContainer_bullets___Vj3p_{margin:0 auto}.styles__dropDownEnterprise___3DyUq,.styles__selectPadding___27ils{padding-top:15px;padding-bottom:15px}.styles__dropDownEnterprise___3DyUq{z-index:1000000}.styles__selectEnterprise___2QgtS{display:flex;width:100%;align-items:center;justify-content:center}.styles__selectEnterprise_dd___xNhXf{width:45%}.styles__selectEnterprise_icon___3wcGk{padding-top:12px;align-items:center}.styles__accountOptions___CenHI{padding-top:10px;padding-bottom:15px;display:flex;align-items:center;width:100%;min-width:300px}.styles__accountOptions_text___vNTtC{width:210px;color:#959596;font-weight:700;padding-left:20px}.styles__accountOptions_row___1Zhtf{min-width:400px;width:100%}.styles__accountOptions_column___30Zf0{display:flex;flex-direction:column;justify-content:center}.styles__displayFlex___3y05L{display:flex;align-items:center;padding-bottom:15px}.styles__icon___16GyZ{width:10px}@-webkit-keyframes styles__fadeinform___1l2GK{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeinform___1l2GK{0%{opacity:0}to{opacity:1}}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___2rTHT\",borderBottomRight:\"styles__borderBottomRight___39mAq\",borderTopLeft:\"styles__borderTopLeft___ugf_P\",borderBottomLeft:\"styles__borderBottomLeft___2kKic\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___1AnLw\",mainContainer:\"styles__mainContainer___hzSll\",fadeinform:\"styles__fadeinform___1l2GK\",header:\"styles__header___2Rn-e \"+n(3).locals.fontMediumLarge,header_text:\"styles__header_text___3FQQ_\",header_icon:\"styles__header_icon___2S4H3\",formContainer:\"styles__formContainer___oQtGR\",buttonContainer:\"styles__buttonContainer___31_8X\",nextButton:\"styles__nextButton___3SeZd\",bulletContainer:\"styles__bulletContainer___2QYoK\",bulletContainer_bullets:\"styles__bulletContainer_bullets___Vj3p_\",selectPadding:\"styles__selectPadding___27ils\",dropDownEnterprise:\"styles__dropDownEnterprise___3DyUq\",selectEnterprise:\"styles__selectEnterprise___2QgtS\",selectEnterprise_dd:\"styles__selectEnterprise_dd___xNhXf\",selectEnterprise_icon:\"styles__selectEnterprise_icon___3wcGk\",accountOptions:\"styles__accountOptions___CenHI\",accountOptions_text:\"styles__accountOptions_text___vNTtC\",accountOptions_row:\"styles__accountOptions_row___1Zhtf\",accountOptions_column:\"styles__accountOptions_column___30Zf0\",displayFlex:\"styles__displayFlex___3y05L\",icon:\"styles__icon___16GyZ\"}},2859:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=y;var a=p(n(0)),r=p(n(1)),l=n(22),o=n(8),s=n(100),u=p(n(2489)),i=p(n(153)),d=p(n(2860)),c=p(n(2862)),f=p(n(2863)),m=p(n(2524));function p(e){return e&&e.__esModule?e:{default:e}}var _=function(e){return e&&60<e&&\"Must be less than or equal to 60\"},g=function(e){if(e){return e.split(\",\").some(function(e){return!(0,l.isValidUUID)(e)})?\"Must UUIDs separated by ',' with no spaces\":void 0}};function y(e){var t=e.onSubmit,n=e.activeAccount,a={twilioPhoneNumber:n.get(\"twilioPhoneNumber\"),destinationPhoneNumber:n.get(\"destinationPhoneNumber\"),vendastaId:n.get(\"vendastaId\"),callrailId:n.get(\"callrailId\"),unit:n.get(\"unit\"),timeInterval:n.get(\"timeInterval\"),suggestedChairId:n.get(\"suggestedChairId\"),canSendReminders:n.get(\"canSendReminders\"),canSendRecalls:n.get(\"canSendRecalls\"),canSendReviews:n.get(\"canSendReviews\"),googlePlaceId:n.get(\"googlePlaceId\"),facebookUrl:n.get(\"facebookUrl\"),sendRequestEmail:n.get(\"sendRequestEmail\"),omitChairIdsString:n.get(\"omitChairIds\").join(\",\"),omitPractitionerIdsString:n.get(\"omitPractitionerIds\").join(\",\")},l=n.get(\"lastSyncDate\"),i=l&&r.default.createElement(u.default,{date:l,className:m.default.lastSyncWrapper});return r.default.createElement(o.Form,{enableReinitialize:!0,form:\"superAdminSettingsForm\",onSubmit:t,initialValues:a,\"data-test-id\":\"superAdminSettingsForm\"},i,r.default.createElement(\"div\",{className:m.default.paddingField},r.default.createElement(\"div\",{className:m.default.paddingField_flex},r.default.createElement(\"div\",{className:m.default.paddingText},\"Can Send Reminders\"),r.default.createElement(\"div\",{className:m.default.paddingField_toggle,\"data-test-id\":\"toggle_canSendReminders\"},r.default.createElement(o.Field,{component:\"Toggle\",name:\"canSendReminders\"})))),r.default.createElement(\"div\",{className:m.default.paddingField},r.default.createElement(\"div\",{className:m.default.paddingField_flex},r.default.createElement(\"div\",{className:m.default.paddingText},\"Can Send Reviews\"),r.default.createElement(\"div\",{className:m.default.paddingField_toggle,\"data-test-id\":\"toggle_canSendReviews\"},r.default.createElement(o.Field,{component:\"Toggle\",name:\"canSendReviews\"})))),r.default.createElement(\"div\",{className:m.default.paddingField},r.default.createElement(\"div\",{className:m.default.paddingField_flex},r.default.createElement(\"div\",{className:m.default.paddingText},\"Can Send Recalls\"),r.default.createElement(\"div\",{className:m.default.paddingField_toggle,\"data-test-id\":\"toggle_canSendRecalls\"},r.default.createElement(o.Field,{component:\"Toggle\",name:\"canSendRecalls\"})))),r.default.createElement(\"div\",{className:m.default.paddingField},r.default.createElement(\"div\",{className:m.default.paddingField_flex},r.default.createElement(\"div\",{className:m.default.paddingText},\"Send Request Emails\"),r.default.createElement(\"div\",{className:m.default.paddingField_toggle,\"data-test-id\":\"toggle_sendRequestEmail\"},r.default.createElement(o.Field,{component:\"Toggle\",name:\"sendRequestEmail\"})))),r.default.createElement(d.default,{activeAccount:n}),r.default.createElement(o.Field,{name:\"destinationPhoneNumber\",label:\"Destination Phone Number\",type:\"tel\",\"data-test-id\":\"destinationPhoneNumber\"}),r.default.createElement(c.default,{activeAccount:n}),r.default.createElement(f.default,{activeAccount:n}),r.default.createElement(o.Field,{name:\"unit\",label:\"Schedule Unit\",type:\"number\",validate:[s.notNegative,_],\"data-test-id\":\"unit\"}),r.default.createElement(o.Field,{name:\"suggestedChairId\",label:\"Suggested Chair ID\",\"data-test-id\":\"suggestedChairId\"}),r.default.createElement(o.Field,{name:\"facebookUrl\",label:\"Facebook URL\",\"data-test-id\":\"facebookUrl\"}),r.default.createElement(o.Field,{name:\"googlePlaceId\",label:\"Google Place ID\",\"data-test-id\":\"googlePlaceId\"}),r.default.createElement(o.Field,{name:\"omitPractitionerIdsString\",label:\"Omit Practitioner IDs\",validate:[g]}),r.default.createElement(o.Field,{name:\"omitChairIdsString\",label:\"Omit Chair IDs\",validate:[g]}))}y.propTypes={onSubmit:a.default.func.isRequired,activeAccount:a.default.instanceOf(i.default)},y.defaultProps={activeAccount:null}},2860:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var s=f(n(1)),a=f(n(0)),l=n(16),i=n(15),r=f(n(153)),o=n(2487),u=f(n(957)),d=n(8),c=f(n(2524));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.activeAccount,n=function(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,[\"activeAccount\"]),a=t.get(\"id\"),l=!!t.get(\"twilioPhoneNumber\"),i=!!t.get(\"destinationPhoneNumber\"),r=s.default.createElement(d.Button,{icon:\"plus\",onClick:function(){window.confirm(\"Are you sure you want to generate a new Twilio number?\")&&n.generateTwilioNumber(a)},disabled:!i||l,className:c.default.inlineButton}),o=i?r:s.default.createElement(d.Tooltip,{trigger:[\"hover\"],overlay:\"Destination Phone Number is required.\",placement:\"top\"},r);return s.default.createElement(d.Grid,null,s.default.createElement(d.Row,null,s.default.createElement(d.Col,{xs:9},s.default.createElement(u.default,{name:\"twilioPhoneNumber\",label:\"Twilio Phone Number\",type:\"tel\",\"data-test-id\":\"twilioPhoneNumber\"})),s.default.createElement(d.Col,{xs:3,className:c.default.buttonsWrapper},o,s.default.createElement(d.Button,{icon:\"times\",onClick:function(){window.confirm(\"Are you sure you want to remove your Twilio number?\")&&n.removeTwilioNumber(a)},disabled:!l,className:c.default.inlineButton}))))}m.propTypes={activeAccount:a.default.instanceOf(r.default).isRequired,generateTwilioNumber:a.default.func.isRequired,removeTwilioNumber:a.default.func.isRequired};t.default=(0,i.connect)(null,function(e){return(0,l.bindActionCreators)({generateTwilioNumber:o.generateTwilioNumber,removeTwilioNumber:o.removeTwilioNumber},e)})(m)},2861:function(e,t,n){(t=e.exports=n(4)(!1)).push([e.i,\".styles__borderTopRight___1DOIR{border-top-right-radius:4px}.styles__borderBottomRight___2NVTL{border-bottom-right-radius:4px}.styles__borderTopLeft___1Bt7d{border-top-left-radius:4px}.styles__borderBottomLeft___1mdO9{border-bottom-left-radius:4px}.styles__ui-kit-smoother___3OUCf{transition:all .15s}.styles__generalBodyClass___3fLqN{padding:40px}.styles__formContainer___2Wjvc{width:40%;margin-bottom:35px}.styles__formContainer_contact___3ZNHJ{margin-left:35px}.styles__lastSyncWrapper___39a2v{padding:10px 0}.styles__paddingField___mepad{padding-bottom:15px}.styles__paddingField_flex___wGo19{width:40%;padding-top:10px;display:flex;align-items:center}.styles__paddingField_toggle___2KRtS{margin-left:auto}.styles__massOnlineEmail_count___hssru,.styles__massOnlineEmail_date___PaZnv{color:#ff715a;margin-bottom:15px;margin-top:10px}.styles__filledLabel___3GpX5{top:-15px!important}.styles__orderDropdown___3t6-X{padding:0;height:100%}.styles__orderDropdown___3t6-X>div:not(:last-child){color:#000;font-size:11px;border-bottom:none;padding-left:6px;padding-right:6px;height:100%;box-sizing:border-box}.styles__orderDropdown___3t6-X>div:not(:last-child)>div>label{top:-15px!important;color:#959596;text-transform:uppercase;font-size:9px!important}.styles__descriptionMessage___cH5K9{margin:0 0 20px;line-height:1.35;color:gray}.styles__buttonsWrapper___Nw7sL{display:flex;align-items:center;justify-content:flex-end;margin-bottom:10px}.styles__buttonsWrapper___Nw7sL .styles__inlineButton___1L4A3{margin-left:5px;height:40px}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___1DOIR\",borderBottomRight:\"styles__borderBottomRight___2NVTL\",borderTopLeft:\"styles__borderTopLeft___1Bt7d\",borderBottomLeft:\"styles__borderBottomLeft___1mdO9\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___3OUCf\",generalBodyClass:\"styles__generalBodyClass___3fLqN\",formContainer:\"styles__formContainer___2Wjvc\",formContainer_contact:\"styles__formContainer_contact___3ZNHJ\",lastSyncWrapper:\"styles__lastSyncWrapper___39a2v\",paddingField:\"styles__paddingField___mepad\",paddingField_flex:\"styles__paddingField_flex___wGo19\",paddingField_toggle:\"styles__paddingField_toggle___2KRtS\",massOnlineEmail_date:\"styles__massOnlineEmail_date___PaZnv\",massOnlineEmail_count:\"styles__massOnlineEmail_count___hssru\",filledLabel:\"styles__filledLabel___3GpX5\",orderDropdown:\"styles__orderDropdown___3t6-X\",descriptionMessage:\"styles__descriptionMessage___cH5K9\",buttonsWrapper:\"styles__buttonsWrapper___Nw7sL\",inlineButton:\"styles__inlineButton___1L4A3\"}},2862:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(1)),a=c(n(0)),l=n(16),r=n(15),o=c(n(153)),s=n(8),u=n(2487),d=c(n(2524));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.activeAccount,n=function(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,[\"activeAccount\"]),a=t.id,l=t.vendastaId;return i.default.createElement(s.Grid,null,i.default.createElement(s.Row,null,i.default.createElement(s.Col,{xs:9},i.default.createElement(s.Field,{name:\"vendastaId\",label:\"Vendasta Id\",\"data-test-id\":\"vendastaId\"})),i.default.createElement(s.Col,{xs:3,className:d.default.buttonsWrapper},i.default.createElement(s.Button,{icon:\"plus\",disabled:!!l,onClick:function(){window.confirm(\"Are you sure you want to generate a new Vendasta key?\")&&n.generateVendastaKey(a)},className:d.default.inlineButton}),i.default.createElement(s.Button,{icon:\"times\",disabled:!l,onClick:function(){window.confirm(\"Are you sure you want to remove your Vendasta key?\")&&n.deleteVendastaKey(a)},className:d.default.inlineButton}))))}f.propTypes={activeAccount:a.default.instanceOf(o.default).isRequired,generateVendastaKey:a.default.func.isRequired,deleteVendastaKey:a.default.func.isRequired};t.default=(0,r.connect)(null,function(e){return(0,l.bindActionCreators)({generateVendastaKey:u.generateVendastaKey,deleteVendastaKey:u.deleteVendastaKey},e)})(f)},2863:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=f(n(1)),a=f(n(0)),l=n(16),r=n(15),o=f(n(153)),s=n(2487),u=f(n(957)),d=n(8),c=f(n(2524));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.activeAccount,n=function(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,[\"activeAccount\"]),a=t.get(\"id\"),l=!!t.get(\"callrailId\");return i.default.createElement(d.Grid,null,i.default.createElement(d.Row,null,i.default.createElement(d.Col,{xs:9},i.default.createElement(u.default,{name:\"callrailId\",label:\"CallRail ID\",\"data-test-id\":\"callrailId\"})),i.default.createElement(d.Col,{xs:3,className:c.default.buttonsWrapper},i.default.createElement(d.Button,{icon:\"plus\",onClick:function(){window.confirm(\"Are you sure you want to generate a new CallRail key?\")&&n.generateCallRailKey(a)},disabled:l,className:c.default.inlineButton}),i.default.createElement(d.Button,{icon:\"times\",onClick:function(){window.confirm(\"Are you sure you want to remove your CallRail key?\")&&n.removeCallRailKey(a)},disabled:!l,className:c.default.inlineButton}))))}m.propTypes={activeAccount:a.default.instanceOf(o.default).isRequired,generateCallRailKey:a.default.func.isRequired,removeCallRailKey:a.default.func.isRequired};t.default=(0,r.connect)(null,function(e){return(0,l.bindActionCreators)({generateCallRailKey:s.generateCallRailKey,removeCallRailKey:s.removeCallRailKey},e)})(m)},2864:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=n(1),r=c(i),o=c(n(0)),s=n(8),u=n(59),d=c(n(2524));function c(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,i.Component),a(m,[{key:\"componentDidMount\",value:function(){var t=this,e=this.props.activeAccount;this.props.getEmailBlastCount(e.id).then(function(e){t.setState({emailCount:e.data.patientEmailCount})})}},{key:\"render\",value:function(){var e=this.props,t=e.massOnlineDate,n=e.openPreviewModal;return r.default.createElement(\"div\",{className:d.default.formContainer},r.default.createElement(s.Header,{title:\"Online Intro. Email Blast\",contentHeader:!0}),t&&r.default.createElement(\"div\",{className:d.default.massOnlineEmail_date},\"Last sent: \",t),!t&&r.default.createElement(\"div\",{className:d.default.massOnlineEmail_count},\"This campaign will be sent to \",this.state.emailCount,\" Patients.\"),r.default.createElement(\"div\",{className:d.default.emailBlastButton},r.default.createElement(s.Button,{onClick:n},\"Preview Email Template\")))}}]),m);function m(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,m);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={emailCount:0},t}f.propTypes={activeAccount:o.default.shape(u.accountShape).isRequired,massOnlineDate:o.default.string,openPreviewModal:o.default.func.isRequired,getEmailBlastCount:o.default.func.isRequired},f.defaultProps={massOnlineDate:o.default.string},t.default=f},2865:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,l=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(l)throw i}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},a=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=n(1),r=b(i),o=b(n(0)),s=n(16),u=n(15),d=n(60),c=n(21),f=n(8),m=n(72),p=n(366),_=b(n(2866)),g=n(100);function b(e){return e&&e.__esModule?e:{default:e}}var h=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,i.Component),a(v,[{key:\"onSubmit\",value:function(e){var t=this.props.activeAccount,n=this.state,a=n.toggle,l=n.limit,i={canAutoRespondOutsideOfficeHours:a,bufferBeforeOpening:a&&e.bufferBeforeOpeningNum+\" \"+e.bufferBeforeOpeningWord||null,bufferAfterClosing:a&&e.bufferAfterClosingNum+\" \"+e.bufferAfterClosingWord||null,autoRespondOutsideOfficeHoursLimit:a&&l&&e.autoRespondOutsideOfficeHoursLimitNum+\" \"+e.autoRespondOutsideOfficeHoursLimitWord||null},r=(0,c.Map)(i),o=t.merge(r);this.props.updateEntityRequest({key:\"accounts\",model:o,alert:{success:{body:\"Updated Practice Information\"},error:{title:\"Practice Information Error\",body:\"Failed to update.\"}}})}},{key:\"changeToggle\",value:function(){var e=this;this.setState(function(e){return{toggle:!e.toggle}},function(){return e.props.change(\"chatSettingsForm\",\"bufferBeforeOpening\",e.state.toggle?1:0)})}},{key:\"changeToggleLimit\",value:function(){var e=this;this.setState(function(e){return{limit:!e.limit}},function(){return e.props.change(\"chatSettingsForm\",\"bufferBeforeOpening\",e.state.toggle?1:0)})}},{key:\"initialValues\",value:function(){var e=this.props,t=e.activeAccount,n=e.bufferBeforeOpening,a=e.bufferAfterClosing,l=e.autoRespondOutsideOfficeHoursLimit,i=n.split(\" \"),r=y(i,2),o=r[0],s=r[1],u=a.split(\" \"),d=y(u,2),c=d[0],f=d[1],m=l.split(\" \"),p=y(m,2),_=p[0],g=p[1];return{canAutoRespondOutsideOfficeHours:t.get(\"canAutoRespondOutsideOfficeHours\"),bufferBeforeOpeningNum:o,bufferBeforeOpeningWord:s,bufferAfterClosingNum:c,bufferAfterClosingWord:f,autoRespondOutsideOfficeHoursLimitNum:_,autoRespondOutsideOfficeHoursLimitWord:g}}},{key:\"render\",value:function(){return r.default.createElement(f.Form,{enableReinitialize:!0,form:\"chatSettingsForm\",onSubmit:this.onSubmit,initialValues:this.initialValues(),\"data-test-id\":\"chatSettingsForm\"},r.default.createElement(\"div\",null,r.default.createElement(f.Grid,null,r.default.createElement(f.Row,null,r.default.createElement(f.Col,{xs:9},r.default.createElement(\"span\",null,\"Communication Outside Buffer\")),r.default.createElement(f.Col,{xs:3},r.default.createElement(f.Toggle,{\"data-test-id\":\"toggle_buffer\",checked:this.state.toggle,onChange:this.changeToggle})))),this.state.toggle&&r.default.createElement(f.Grid,null,r.default.createElement(f.Row,null,r.default.createElement(f.Col,{xs:3},r.default.createElement(f.Field,{required:!0,type:\"number\",name:\"bufferBeforeOpeningNum\",label:\"Before\",validate:[g.onlyNumber],\"data-test-id\":\"bufferBeforeOpeningNum\"})),r.default.createElement(f.Col,{xs:9},r.default.createElement(f.Field,{name:\"bufferBeforeOpeningWord\",component:\"DropdownSelect\",options:_.default,\"data-test-id\":\"bufferBeforeOpeningWord\"}))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{xs:3},r.default.createElement(f.Field,{required:!0,type:\"number\",name:\"bufferAfterClosingNum\",label:\"After\",validate:[g.onlyNumber],\"data-test-id\":\"bufferAfterClosingNum\"})),r.default.createElement(f.Col,{xs:9},r.default.createElement(f.Field,{name:\"bufferAfterClosingWord\",component:\"DropdownSelect\",options:_.default,\"data-test-id\":\"bufferAfterClosingWord\"}))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{xs:9},r.default.createElement(\"span\",null,\"Limit the outside office hours responses\")),r.default.createElement(f.Col,{xs:3},r.default.createElement(f.Toggle,{\"data-test-id\":\"toggle_limit\",checked:this.state.limit,onChange:this.changeToggleLimit}))),this.state.limit&&r.default.createElement(f.Row,null,r.default.createElement(f.Col,{xs:3},r.default.createElement(f.Field,{type:\"number\",name:\"autoRespondOutsideOfficeHoursLimitNum\",label:\"Limit\",validate:[g.onlyNumber],\"data-test-id\":\"autoRespondOutsideOfficeHoursLimitNum\"})),r.default.createElement(f.Col,{xs:9},r.default.createElement(f.Field,{name:\"autoRespondOutsideOfficeHoursLimitWord\",component:\"DropdownSelect\",options:_.default,\"data-test-id\":\"autoRespondOutsideOfficeHoursLimitWord\"}))))))}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e)),n=t.props.activeAccount;return t.state={toggle:n.canAutoRespondOutsideOfficeHours,limit:n.autoRespondOutsideOfficeHoursLimit||!1},t.onSubmit=t.onSubmit.bind(t),t.changeToggle=t.changeToggle.bind(t),t.changeToggleLimit=t.changeToggleLimit.bind(t),t}h.propTypes={activeAccount:o.default.shape(p.accountShape).isRequired,bufferBeforeOpening:o.default.string.isRequired,bufferAfterClosing:o.default.string.isRequired,autoRespondOutsideOfficeHoursLimit:o.default.string.isRequired,updateEntityRequest:o.default.func.isRequired,change:o.default.func.isRequired};var E=(0,u.connect)(function(e,t){var n=t.activeAccount;return{canAutoRespondOutsideOfficeHours:n.get(\"canAutoRespondOutsideOfficeHours\"),bufferBeforeOpening:n.get(\"bufferBeforeOpening\")||\"0 minutes\",bufferAfterClosing:n.get(\"bufferAfterClosing\")||\"0 minutes\",autoRespondOutsideOfficeHoursLimit:n.get(\"autoRespondOutsideOfficeHoursLimit\")||\"0 minutes\"}},function(e){return(0,s.bindActionCreators)({change:d.change,updateEntityRequest:m.updateEntityRequest,createEntityRequest:m.createEntityRequest},e)});t.default=E(h)},2866:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=[{value:\"minutes\",label:\"Minutes\"},{value:\"hours\",label:\"Hours\"}]},2867:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,l=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(l)throw i}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=g(n(1)),s=g(n(0)),u=n(15),d=n(16),c=n(21),f=n(8),m=n(72),p=g(n(153)),_=g(n(2524));function g(e){return e&&e.__esModule?e:{default:e}}var y=[{value:\"mobilePhoneNumber\",label:\"Mobile Phone\"},{value:\"otherPhoneNumber\",label:\"Other Phone\"},{value:\"homePhoneNumber\",label:\"Home Phone\"},{value:\"workPhoneNumber\",label:\"Work Phone\"}],b=[{label:\"Disabled\",value:\"\"},{label:\"1st\",value:0},{label:\"2nd\",value:1},{label:\"3rd\",value:2},{label:\"4th\",value:3}],h=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,o.default.Component),i(v,[{key:\"handleOrderSubmit\",value:function(e){if(window.confirm(\"Are you sure you want to change the order in which Donna will look for a cell phone number?\")){var t=Object.entries(e).filter(function(e){return\"\"!==a(e,2)[1]}).sort(function(e,t){var n=a(e,2)[1];return a(t,2)[1]<n?1:-1}).map(function(e){return a(e,1)[0]}),n=this.props.activeAccount.merge({cellPhoneNumberFallback:t});this.props.updateEntityRequest({key:\"accounts\",model:n,alert:{success:{body:\"Cell Phone Number Order Preferences Updated\"},error:{Title:\"Preferences Error\",body:\"Cell Phone Number Order Update Failed\"}}})}}},{key:\"render\",value:function(){var e=this.state.order;return o.default.createElement(f.Form,{form:\"cellPhoneNumberFallback\",initialValues:e,destroyOnUnmount:!1,values:this.state.order,onSubmit:this.handleOrderSubmit,alignSave:\"left\"},o.default.createElement(\"p\",{className:_.default.descriptionMessage},\"Select the order in how Donna will look for a cell phone number from the existing phone number fields we pull from the Practice Management Software.\"),y.map(function(e){var t=e.label,n=e.value;return o.default.createElement(f.Field,{key:n,name:n,label:t,component:\"DropdownSelect\",options:b,\"data-test-id\":n})}))}}]),v);function v(a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,v);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this)),t=y.reduce(function(e,t){var n=t.value;return l({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,-1===a.cellPhoneNumberFallback.indexOf(n)?\"\":a.cellPhoneNumberFallback.indexOf(n)))},{});return e.state={order:t},e.handleOrderSubmit=e.handleOrderSubmit.bind(e),e}h.propTypes={updateEntityRequest:s.default.func.isRequired,activeAccount:s.default.instanceOf(p.default).isRequired,cellPhoneNumberFallback:s.default.arrayOf(s.default.string).isRequired};t.default=(0,u.connect)(function(e){var t=e.entities,n=e.auth,a=t.getIn([\"accounts\",\"models\",n.get(\"accountId\")]),l=a.get(\"cellPhoneNumberFallback\");return{activeAccount:a,cellPhoneNumberFallback:(0,c.isImmutable)(l)?l.toJS():l}},function(e){return(0,d.bindActionCreators)({updateEntityRequest:m.updateEntityRequest},e)})(h)}}]);","extractedComments":[]}