{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{2561:function(e,t,a){var r=a(2854);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var i={transform:void 0};a(5)(r,i);r.locals&&(e.exports=r.locals)},2852:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e};function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=a(1),s=v(n),o=v(a(0)),l=a(16),u=a(15),d=a(60),c=a(186),_=a(72),f=a(113),h=a(8),p=a(182),m=a(951),y=v(a(948)),b=v(a(2853)),g=v(a(2561));function v(e){return e&&e.__esModule?e:{default:e}}var C=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(x,n.Component),r(x,[{key:\"componentWillMount\",value:function(){this.props.fetchEntities({key:\"chairs\"})}},{key:\"setAllChairs\",value:function(e){var t=this;e.stopPropagation();var a=this.props.chairs,r=Object.keys(a.toJS()).map(function(e){return t.props.change(\"chairsForm\",e,!t.props.allChairs)});this.props.dispatch((0,c.batchActions)(r))}},{key:\"handleSubmit\",value:function(i,n){var s=this,o=this.props.chairs;i.map(function(e){var t=o.get(e),a=t.set(\"isActive\",!t.get(\"isActive\"));if(1!==i.length)return s.props.updateEntityRequest({key:\"chairs\",model:a}).then(function(){s.setState({previousValues:n})});var r={success:{body:\" \"+t.get(\"name\")+\" was updated.\"},error:{body:\"Could not update \"+t.get(\"name\")+\".\"}};return s.props.updateEntityRequest({key:\"chairs\",model:a,alert:r}).then(function(){s.setState({previousValues:n})})})}},{key:\"render\",value:function(){var e=this.props.chairs;if(!e)return null;var t=e.sort(p.SortByName).toArray(),a=function(e){var t={};return e.forEach(function(e){t[e.get(\"id\")]=e.get(\"isActive\")}),t}(t);return Object.keys(a).length?s.default.createElement(y.default,{title:\"Chairs\",bodyClass:g.default.chairsBody},s.default.createElement(\"div\",{className:g.default.container},s.default.createElement(\"div\",{className:g.default.allChairs},s.default.createElement(\"span\",{className:g.default.allChairs_text},\" All Chairs Active \"),s.default.createElement(h.Toggle,{name:\"allChairs\",onChange:this.setAllChairs,checked:this.props.allChairs})),0<t.length&&s.default.createElement(b.default,{chairs:t,handleSubmit:this.handleSubmit,initialValues:a,formValues:this.state.previousValues}))):null}}]),x);function x(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,x);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e));return t.state={previousValues:{}},t.handleSubmit=t.handleSubmit.bind(t),t.setAllChairs=t.setAllChairs.bind(t),t}C.propTypes={chairs:o.default.shape(m.chairShape).isRequired,fetchEntities:o.default.func.isRequired,updateEntityRequest:o.default.func.isRequired,dispatch:o.default.func.isRequired,allChairs:o.default.bool,change:o.default.func.isRequired},C.defaultProps={allChairs:!1},t.default=(0,u.connect)(function(e){var t=e.entities,a=e.form,r=t.getIn([\"chairs\",\"models\"]);return a.chairsForm?{chairs:r,allChairs:function(t){return Object.keys(t).every(function(e){return t[e]})}(a.chairsForm.values),values:a.chairsForm.values}:{allChairs:null,chairs:r,values:{}}},function(e){return(0,l.bindActionCreators)({fetchEntities:_.fetchEntities,updateEntityRequest:_.updateEntityRequest,showAlertTimeout:f.showAlertTimeout,change:d.change,dispatch:e},e)})(C)},2853:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=d;var n=l(a(1)),r=l(a(0)),i=a(59),s=a(8),o=l(a(2561));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(t,a,r){var e=Object.keys(t);return Object.keys(a).length?e.filter(function(e){return a[e]!==t[e]}):e.filter(function(e){return r[e]!==t[e]})};function d(e){var t=e.chairs,a=e.handleSubmit,r=e.initialValues,i=e.formValues;return t?n.default.createElement(s.Form,{form:\"chairsForm\",onChange:function(e){a(u(e,i,r),e)},enableReinitialize:!0,keepDirtyOnReinitialize:!0,destroyOnUnmount:!1,alignSave:\"left\",initialValues:r,ignoreSaveButton:!0,\"data-test-id\":\"chairsForm\"},n.default.createElement(\"div\",{className:o.default.formContainer},t.map(function(e,t){return n.default.createElement(\"div\",{className:o.default.chairContainer,key:\"chair_\"+e.get(\"id\")},n.default.createElement(\"div\",null,n.default.createElement(\"div\",{className:o.default.chairContainer_name},e.get(\"name\")),n.default.createElement(\"div\",{className:o.default.chairContainer_id},e.get(\"id\"))),n.default.createElement(\"div\",{className:o.default.chairContainer_toggle,\"data-test-id\":\"chair_\"+t},n.default.createElement(s.Field,{component:\"Toggle\",name:e.get(\"id\")})))}))):null}d.propTypes={chairs:r.default.arrayOf(r.default.shape(i.chairShape)),handleSubmit:r.default.func.isRequired,initialValues:r.default.objectOf(r.default.oneOfType([r.default.string,r.default.bool])),formValues:r.default.objectOf(r.default.string)},d.defaultProps={chairs:null,initialValues:{},formValues:{}}},2854:function(e,t,a){(t=e.exports=a(4)(!1)).i(a(3),void 0),t.push([e.i,\".styles__borderTopRight___17nk7{border-top-right-radius:4px}.styles__borderBottomRight___GgQ58{border-bottom-right-radius:4px}.styles__borderTopLeft___3oGKf{border-top-left-radius:4px}.styles__borderBottomLeft___1x503{border-bottom-left-radius:4px}.styles__ui-kit-smoother___3AvYQ{transition:all .15s}.styles__container___2wFa5{display:flex;flex-direction:column;width:auto}.styles__chairsBody___2t1BL{padding:40px}.styles__headerContainer___3D3Ek{width:100%;display:flex;justify-content:space-between;margin-bottom:20px;border-bottom:1px solid #efefef;margin-right:15px}.styles__formContainer___Au-I2{padding-top:15px;padding-bottom:15px;width:350px;min-width:350px}.styles__chairContainer___1X48E{display:flex;flex-direction:row;align-items:center;margin-bottom:10px;border:1px solid #d3d3d3;justify-content:space-between;padding:10px}.styles__chairContainer___1X48E span{width:180px}.styles__chairContainer_name___1RJ2W{padding-right:20px;padding-bottom:5px}.styles__chairContainer_id___bx2B9{padding-right:20px;font-size:10px;color:#959596;width:250px}.styles__allChairs___1Z43x{display:flex;flex-direction:row;align-items:center;margin-bottom:15px}.styles__allChairs___1Z43x span{width:180px}.styles__allChairs_text___1RsxI{padding-right:20px}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___17nk7\",borderBottomRight:\"styles__borderBottomRight___GgQ58\",borderTopLeft:\"styles__borderTopLeft___3oGKf\",borderBottomLeft:\"styles__borderBottomLeft___1x503\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___3AvYQ\",container:\"styles__container___2wFa5\",chairsBody:\"styles__chairsBody___2t1BL\",headerContainer:\"styles__headerContainer___3D3Ek\",formContainer:\"styles__formContainer___Au-I2\",chairContainer:\"styles__chairContainer___1X48E\",chairContainer_name:\"styles__chairContainer_name___1RJ2W\",chairContainer_id:\"styles__chairContainer_id___bx2B9\",allChairs:\"styles__allChairs___1Z43x\",allChairs_text:\"styles__allChairs_text___1RsxI \"+a(3).locals.fontMedium}}}]);","extractedComments":[]}