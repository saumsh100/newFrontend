{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{2562:function(e,a,t){var n=t(2985);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var l={transform:void 0};t(3)(n,l);n.locals&&(e.exports=n.locals)},2978:function(e,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=function(e,a,t){return a&&l(e.prototype,a),t&&l(e,t),e};function l(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=t(1),o=h(r),s=h(t(0)),d=h(t(4)),u=t(19),c=t(13),i=t(14),f=h(t(366)),m=h(t(2979)),p=t(70),b=t(59);function h(e){return e&&e.__esModule?e:{default:e}}function j(e,a,t,n,l){return{startDate:e.toDate(),endDate:a.toDate(),accountId:t,skip:n,limit:l}}var y=(function(e,a){if(\"function\"!=typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(v,r.Component),n(v,[{key:\"componentDidMount\",value:function(){var n=this,e=localStorage.getItem(\"token\"),l=(0,f.default)(e),a=this.state,t=a.startDate,r=a.endDate,o=a.skip,s=a.limit,d=j(t,r,l.activeAccountId,o,s);this.fetchCallData(d).then(function(e){var a=Object.keys(e[1].calls||{}).length,t=a===n.state.limit;n.setState({skip:n.state.skip+a,moreData:t,callsLength:a,accountId:l.activeAccountId})})}},{key:\"componentWillUnmount\",value:function(){this.props.deleteAllEntity(\"calls\")}},{key:\"handleDateRange\",value:function(e){var n=this,l=(0,d.default)(e.from),r=(0,d.default)(e.to);if(l.isValid()&&r.isValid()&&l.toISOString()!==r.toISOString()){this.props.deleteAllEntity(\"calls\");var a=this.state,o=a.limit,t=a.accountId,s=j(l,r,t,0,o);this.fetchCallData(s).then(function(e){var a=Object.keys(e[1].calls).length,t=a===o;n.setState({moreData:t,skip:o,callsLength:a,startDate:l,endDate:r})})}}},{key:\"loadMore\",value:function(){var n=this,e=this.state,a=e.startDate,t=e.endDate,l=e.accountId,r=e.skip,o=e.limit,s=e.callsLength,d=j(a,t,l,r,o);this.setState({fetchingCalls:!0}),this.props.fetchEntities({id:\"calls\",url:\"/api/calls\",join:[\"patient\"],params:d}).then(function(e){var a=Object.keys(e.calls||{}).length,t=a===o;n.setState({skip:r+o,moreData:t,callsLength:s+a,fetchingCalls:!1})})}},{key:\"fetchCallData\",value:function(e){return Promise.all([this.props.fetchEntitiesRequest({id:\"callGraphStats\",url:\"/api/calls/statsgraph\",params:e}),this.props.fetchEntitiesRequest({id:\"calls\",url:\"/api/calls\",join:[\"patient\"],params:e})])}},{key:\"handleCallUpdate\",value:function(e,a){this.props.updateEntityRequest({key:\"calls\",values:{wasApptBooked:a},url:\"/api/calls/\"+e})}},{key:\"render\",value:function(){var e=this.props,a=e.callGraphStats,t=e.calls,n=e.patients,l=e.wasCallsFetched,r=e.wasStatsFetched;return o.default.createElement(m.default,{calls:t,callGraphStats:a,patients:n,handleDateRange:this.handleDateRange,loadMore:this.loadMore,moreData:this.state.moreData,startDate:this.state.startDate,endDate:this.state.endDate,wasCallsFetched:l,wasStatsFetched:r,callsLength:this.state.callsLength,handleCallUpdate:this.handleCallUpdate,fetchingCalls:this.state.fetchingCalls})}}]),v);function v(e){!function(e,a){if(!(e instanceof a))throw new TypeError(\"Cannot call a class as a function\")}(this,v);var a=function(e,a){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!a||\"object\"!=typeof a&&\"function\"!=typeof a?e:a}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return a.state={endDate:(0,d.default)().endOf(\"day\"),startDate:(0,d.default)().subtract(1,\"months\"),skip:0,limit:25,moreData:!1,callsLength:0,accountId:null,fetchingCalls:!1},a.loadMore=a.loadMore.bind(a),a.handleDateRange=a.handleDateRange.bind(a),a.fetchCallData=a.fetchCallData.bind(a),a.handleCallUpdate=a.handleCallUpdate.bind(a),a}y.propTypes={callGraphStats:s.default.instanceOf(u.Record),patients:s.default.instanceOf(u.Map),calls:s.default.instanceOf(u.Map),fetchEntitiesRequest:s.default.func.isRequired,fetchEntities:s.default.func.isRequired,updateEntityRequest:s.default.func.isRequired,deleteAllEntity:s.default.func.isRequired,wasCallsFetched:s.default.bool,wasStatsFetched:s.default.bool},y.defaultProps={wasCallsFetched:!1,wasStatsFetched:!1,calls:null,patients:null,callGraphStats:null},a.default=(0,c.connect)(function(e){var a=e.entities,t=e.apiRequests,n=t.get(\"callGraphStats\")||null,l=t.get(\"callGraphStats\")&&t.get(\"callGraphStats\").wasFetched||null,r=t.get(\"calls\")&&t.get(\"calls\").wasFetched||null;return{callGraphStats:n,calls:a.getIn([\"calls\",\"models\"]),patients:a.getIn([\"patients\",\"models\"]),wasCallsFetched:r,wasStatsFetched:l}},function(e){return(0,i.bindActionCreators)({fetchEntitiesRequest:p.fetchEntitiesRequest,updateEntityRequest:p.updateEntityRequest,fetchEntities:p.fetchEntities,deleteAllEntity:b.deleteAllEntity},e)})(y)},2979:function(e,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=function(e,a,t){return a&&l(e.prototype,a),t&&l(e,t),e};function l(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=t(1),j=u(r),o=u(t(0)),s=u(t(4)),d=t(19),y=u(t(2980)),v=u(t(2983)),g=u(t(2986)),_=t(6),M=u(t(2989));function u(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,a){if(\"function\"!=typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(i,r.Component),n(i,[{key:\"componentDidMount\",value:function(){this.callsContainerHeight=document.getElementById(\"callsContainer\").clientHeight}},{key:\"openCallModal\",value:function(e){this.setState({selectedCall:e,isCallModalOpen:!0})}},{key:\"reinitializeState\",value:function(){this.setState({selectedCall:null,isCallModalOpen:!1})}},{key:\"render\",value:function(){var e=this.props,a=e.callGraphStats,t=e.startDate,n=e.endDate,l=e.handleDateRange,r=e.wasStatsFetched,o=e.wasCallsFetched,s=e.moreData,d=e.loadMore,u=e.patients,c=e.calls,i=e.callsLength,f=e.handleCallUpdate,m=e.fetchingCalls,p=r&&o,b=M.default.cardTable,h=p?function(e,a){return 25<=e&&700<a?{maxHeight:a+30+\"px\",marginBottom:\"15px\"}:0<e&&e<=5?{flex:1}:5<e?{marginBottom:\"15px\",flex:1}:{}}(c.size,this.callsContainerHeight):{};return o&&c.size||(b=M.default.emptyTable),j.default.createElement(\"div\",{className:M.default.callsContainer,id:\"callsContainer\"},j.default.createElement(_.Card,{runAnimation:!0,loaded:r,className:M.default.cardGraph},j.default.createElement(\"div\",{className:M.default.headerGraph},j.default.createElement(\"div\",{className:M.default.headerGraph_title},\"Calls\"),j.default.createElement(\"div\",null,j.default.createElement(_.DayPickerRange,{popover:!0,disabledDays:{after:new Date},from:t.toDate(),to:n.toDate(),onChange:l,monthsToShow:2,maxDays:60}))),r&&j.default.createElement(y.default,{callGraphStats:a,startDate:t,endDate:n})),j.default.createElement(_.Card,{runAnimation:!0,loaded:p&&!m,className:b,style:h},p&&j.default.createElement(v.default,{calls:c,callGraphStats:a,patients:u,loadMore:d,moreData:s,startDate:t,endDate:n,wasCallsFetched:o,wasStatsFetched:r,callsLength:i,openCallModal:this.openCallModal}),p&&j.default.createElement(_.DialogBox,{title:\"Call Details\",active:this.state.isCallModalOpen,onEscKeyDown:this.reinitializeState,onOverlayClick:this.reinitializeState,custom:!0},this.state.selectedCall&&j.default.createElement(g.default,{call:this.state.selectedCall,handleCallUpdate:f}))))}}]),i);function i(e){!function(e,a){if(!(e instanceof a))throw new TypeError(\"Cannot call a class as a function\")}(this,i);var a=function(e,a){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!a||\"object\"!=typeof a&&\"function\"!=typeof a?e:a}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return a.state={isCallModalOpen:!1,selectedCall:null},a.openCallModal=a.openCallModal.bind(a),a.reinitializeState=a.reinitializeState.bind(a),a}c.propTypes={callGraphStats:o.default.instanceOf(d.Record),startDate:o.default.instanceOf(s.default),endDate:o.default.instanceOf(s.default),handleDateRange:o.default.func,wasStatsFetched:o.default.bool,wasCallsFetched:o.default.bool,moreData:o.default.bool,loadMore:o.default.func,patients:o.default.instanceOf(d.Map),calls:o.default.instanceOf(d.Map),callsLength:o.default.number,handleCallUpdate:o.default.func.isRequired,fetchingCalls:o.default.bool},a.default=c},2980:function(e,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var d=o(t(1)),n=o(t(0)),l=o(t(4)),r=t(19),u=t(6),c=o(t(2981));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var a=e.callGraphStats.toJS().data,t=a.xValues,n=a.yValues,l=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)}(n)),r={fontSize:14,fontFamily:\"Gotham-Book\",fontColor:\"#206477\",padding:20,maxRotation:0,autoSkip:!1,beginAtZero:!0,callback:function(e,a){if(\"number\"==typeof e&&Number.isSafeInteger(e)){if(10<l&&e%5==0)return e;if(e%2==0)return e}return a%2==0&&\"number\"!=typeof e&&t.length<45?\"\":a%2!=0&&t.length<45&&\"number\"!=typeof e?e:45<t.length&&\"number\"!=typeof e&&a%5==0?e:null}},o={maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:r,gridLines:{beginAtZero:!0,drawTicks:!1,tickMarkLength:20,offsetGridLines:!1,display:!0}}],xAxes:[{ticks:r,gridLines:{display:!1,tickMarkLength:20}}],scaleLabel:{paddingTop:30}}},s=[{label:\"Calls Received\",color:\"dark\",data:n.slice(0,-1),fill:!1,pointColor:\"white\",pointHoverColor:\"white\"}];return d.default.createElement(\"div\",{className:c.default.callsGraphContainer},d.default.createElement(\"div\",{className:c.default.subHeader},e.startDate.format(\"MMMM DD, YYYY\"),\" -\",\" \",e.endDate.format(\"MMMM DD, YYYY\")),d.default.createElement(\"div\",{className:c.default.callGraph},d.default.createElement(u.LineChart,{displayTooltips:!0,labels:t,height:240,dataSets:s,options:o})))}s.propTypes={startDate:n.default.instanceOf(l.default),endDate:n.default.instanceOf(l.default),callGraphStats:n.default.instanceOf(r.Record)},a.default=s},2981:function(e,a,t){var n=t(2982);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var l={transform:void 0};t(3)(n,l);n.locals&&(e.exports=n.locals)},2982:function(e,a){throw new Error(\"Module build failed (from ../node_modules/sass-loader/lib/loader.js):\\nError: Missing binding /Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/vendor/darwin-x64-64/binding.node\\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 10.x\\n\\nFound bindings for the following environments:\\n  - OS X 64-bit with Node.js 8.x\\n\\nThis usually happens because your environment has changed since running `npm install`.\\nRun `npm rebuild node-sass` to download the binding for your current environment.\\n    at module.exports (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/binding.js:15:13)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/index.js:14:35)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/sass-loader/lib/loader.js:3:14)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:18:17)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at runLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:365:2)\\n    at NormalModule.doBuild (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:265:3)\\n    at NormalModule.build (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:412:15)\\n    at Compilation.buildModule (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:616:10)\\n    at factory.create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:857:14)\\n    at factory (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:405:6)\\n    at hooks.afterResolve.callAsync (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:155:13)\\n    at AsyncSeriesWaterfallHook.eval [as callAsync] (eval at create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:6:1)\\n    at resolver (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:138:29)\")},2983:function(e,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=function(e,a,t){return a&&l(e.prototype,a),t&&l(e,t),e};function l(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=m(t(0)),o=t(1),s=m(o),d=m(t(4)),u=t(19),c=t(6),i=m(t(2984)),f=m(t(2562));function m(e){return e&&e.__esModule?e:{default:e}}var p=(function(e,a){if(\"function\"!=typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(b,o.Component),n(b,[{key:\"componentDidMount\",value:function(){var e=this.props.callGraphStats.toJS().data.yValues;this.yDataCount=e.filter(function(e){return 0!==e}).reduce(function(e,a){return e+a},0)}},{key:\"render\",value:function(){var e=this.props,a=e.calls,r=e.patients,t=e.callsLength,o=e.openCallModal,n=a.toArray().sort(function(e,a){return(0,d.default)(a.startTime).diff(e.startTime)}).filter(function(e,a){return a<t}),l=n.map(function(e,a){var t=e.toJS(),n=t.patientId?r.get(t.patientId):null,l=t.patientId?r.get(t.patientId).firstName+\" \"+r.get(t.patientId).lastName:t.callerName;return t.callerName=l,s.default.createElement(\"div\",{className:f.default.callListItem,onClick:function(){return o(t)},key:\"callContainer_\"+t.id,role:\"button\",tabIndex:a,onKeyDown:function(e){return\"13\"===e.keyCode&&o(t)}},s.default.createElement(i.default,{key:t.id,id:t.id,index:a,callSource:t.callSource,startTime:t.startTime,callerNum:t.callerNum,callerCity:t.callerCity,callerName:l,duration:t.duration,answered:t.answered,wasApptBooked:!!t.wasApptBooked,recording:t.recording,patient:n}))});return s.default.createElement(\"div\",{className:f.default.callTableContainer},s.default.createElement(\"div\",{className:f.default.header},s.default.createElement(\"div\",{className:f.default.title},\" \",this.yDataCount,\" Calls \"),s.default.createElement(\"div\",{className:f.default.rowHeader},s.default.createElement(\"div\",{className:f.default.colSmall},\"#\"),s.default.createElement(\"div\",{className:f.default.col},\"Source Name\"),s.default.createElement(\"div\",{className:f.default.col},\"Caller\"),s.default.createElement(\"div\",{className:f.default.col},\"Start Time\"),s.default.createElement(\"div\",{className:f.default.col},\"Duration\"),s.default.createElement(\"div\",{className:f.default.col},\"City\"),s.default.createElement(\"div\",{className:f.default.col},\"Appointment Booked\"),s.default.createElement(\"div\",{className:f.default.colEmpty}))),s.default.createElement(\"div\",{className:f.default.callTableBody},s.default.createElement(c.InfiniteScroll,{loadMore:this.props.loadMore,hasMore:this.props.moreData||t!==n.length,initialLoad:!1,useWindow:!1,threshold:1},l)))}}]),b);function b(){return function(e,a){if(!(e instanceof a))throw new TypeError(\"Cannot call a class as a function\")}(this,b),function(e,a){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!a||\"object\"!=typeof a&&\"function\"!=typeof a?e:a}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}p.propTypes={calls:r.default.instanceOf(u.Map),patients:r.default.instanceOf(u.Map),moreData:r.default.bool,loadMore:r.default.func.isRequired,callGraphStats:r.default.instanceOf(u.Record),callsLength:r.default.number,openCallModal:r.default.func.isRequired},p.defaultProps={calls:new u.Map,patients:new u.Map,moreData:!1,callsLength:0,callGraphStats:new u.Record},a.default=p},2984:function(e,a,t){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0}),a.default=o;var p=r(t(1)),n=r(t(0)),b=r(t(4)),h=t(20),j=t(6),y=r(t(949)),l=t(57),v=r(t(2562));function r(e){return e&&e.__esModule?e:{default:e}}var g=function(e,a){return e?60<a?Math.round(a/60)+\"min \"+a%60+\"sec\":a+\"s\":\"unanswered\"};function o(e){var a=e.callSource,t=e.startTime,n=e.callerNum,l=e.callerCity,r=e.callerName,o=e.duration,s=e.answered,d=e.wasApptBooked,u=e.recording,c=e.index,i=e.patient,f=s?v.default.phone:v.default.phoneMissed,m=g(s,o);return p.default.createElement(\"div\",{className:v.default.row},p.default.createElement(\"div\",{className:v.default.colSmall},c+1),p.default.createElement(\"div\",{className:v.default.col},p.default.createElement(j.Icon,{icon:\"phone\",\"data-fa-transform\":\"rotate-90\",type:\"solid\",size:1.3,className:f}),\"â€ƒ\",p.default.createElement(\"span\",{className:v.default.column_source},a)),p.default.createElement(\"div\",{className:v.default.col},i?p.default.createElement(\"div\",null,p.default.createElement(y.default,{patient:i,isPatientUser:!1},p.default.createElement(\"div\",{className:v.default.patientStyle},p.default.createElement(\"div\",null,p.default.createElement(j.Icon,{icon:\"user-circle\"})),p.default.createElement(\"span\",{className:v.default.callerName},r))),p.default.createElement(\"div\",{className:v.default.callerNum},(0,h.formatPhoneNumber)(n))):p.default.createElement(\"div\",{className:v.default.callerInfo},p.default.createElement(\"div\",null,r||\"Unknown\"),p.default.createElement(\"div\",{className:v.default.callerNum},(0,h.formatPhoneNumber)(n)))),p.default.createElement(\"div\",{className:v.default.col},(0,b.default)(t).format(\"MMM DD, h:mma\")),p.default.createElement(\"div\",{className:v.default.col},m),p.default.createElement(\"div\",{className:v.default.col},l),p.default.createElement(\"div\",{className:v.default.col},p.default.createElement(\"div\",{className:v.default.appBooked},d?\"YES\":\"NO\",u&&p.default.createElement(\"div\",null,p.default.createElement(j.Icon,{icon:\"volume-up\",type:\"solid\"})))),p.default.createElement(\"div\",{className:v.default.colEmpty}))}o.propTypes={callSource:n.default.string,startTime:n.default.string,callerNum:n.default.string,callerCity:n.default.string,callerName:n.default.string,recording:n.default.string,duration:n.default.number,answered:n.default.bool,wasApptBooked:n.default.bool,index:n.default.number,patient:n.default.shape(l.PatientShape)}},2985:function(e,a){throw new Error(\"Module build failed (from ../node_modules/sass-loader/lib/loader.js):\\nError: Missing binding /Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/vendor/darwin-x64-64/binding.node\\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 10.x\\n\\nFound bindings for the following environments:\\n  - OS X 64-bit with Node.js 8.x\\n\\nThis usually happens because your environment has changed since running `npm install`.\\nRun `npm rebuild node-sass` to download the binding for your current environment.\\n    at module.exports (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/binding.js:15:13)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/index.js:14:35)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/sass-loader/lib/loader.js:3:14)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:18:17)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at runLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:365:2)\\n    at NormalModule.doBuild (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:265:3)\\n    at NormalModule.build (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:412:15)\\n    at Compilation.buildModule (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:616:10)\\n    at factory.create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:857:14)\\n    at factory (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:405:6)\\n    at hooks.afterResolve.callAsync (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:155:13)\\n    at AsyncSeriesWaterfallHook.eval [as callAsync] (eval at create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:6:1)\\n    at resolver (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:138:29)\")},2986:function(e,j,y){\"use strict\";(function(n){Object.defineProperty(j,\"__esModule\",{value:!0});var l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e=function(e,a,t){return a&&r(e.prototype,a),t&&r(e,t),e};function r(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=y(1),o=m(a),t=m(y(4)),s=m(y(2518)),d=m(y(0)),u=y(20),c=m(y(186)),i=y(6),f=m(y(2987));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){var a=e.initialValues,t=e.id,n=e.handleToggle;return o.default.createElement(i.Form,{form:\"appBookedForm_\"+t,onChange:n,initialValues:a,ignoreSaveButton:!0},o.default.createElement(i.Field,{name:\"wasApptBooked\",component:\"Toggle\"}))}var b=(function(e,a){if(\"function\"!=typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(h,a.Component),e(h,[{key:\"componentDidMount\",value:function(){var t=this,e=this.props.call,a=e.callerCity+\" \"+e.callerState;fetch(\"https://maps.googleapis.com/maps/api/geocode/json?address=\"+a+\"+&key=AIzaSyA6U9et5P5Zjn4DIeZpTlBY7wNr21dvc9Q\").then(function(e){return e.json()}).then(function(e){var a=e.results[0];t.setState(l({loaded:!0},a.geometry.location))},function(e){n.error(e),t.setState({loaded:!1})})}},{key:\"handleToggle\",value:function(e){var a=this.props.call;return this.props.handleCallUpdate(a.id,e.wasApptBooked)}},{key:\"renderLeftPanel\",value:function(){var e=this.props.call,a=e.callerCity&&e.callerState?e.callerCity+\", \"+e.callerState:null;return o.default.createElement(\"div\",{className:f.default.leftPanel},o.default.createElement(\"div\",{className:f.default.title},\"Caller Info\"),o.default.createElement(\"div\",{className:f.default.row},o.default.createElement(c.default,{label:\"Name\",data:e.callerName}),o.default.createElement(c.default,{label:\"Initial Source\",data:e.callSource})),o.default.createElement(\"div\",{className:f.default.row},o.default.createElement(c.default,{label:\"Received\",data:(0,t.default)(e.startTime).format(\"MMM DD, YYYY h:mm A\")}),o.default.createElement(c.default,{label:\"Phone number\",data:(0,u.formatPhoneNumber)(e.callerNum)})),o.default.createElement(\"div\",{className:f.default.row},o.default.createElement(c.default,{label:\"Total calls\",data:e.totalCalls}),o.default.createElement(c.default,{label:\"Caller ID\",data:a})),this.state.loaded&&o.default.createElement(\"div\",{className:f.default.map},o.default.createElement(s.default,{bootstrapURLKeys:{key:\"AIzaSyA6U9et5P5Zjn4DIeZpTlBY7wNr21dvc9Q\"},defaultCenter:{lat:this.state.lat,lng:this.state.lng},defaultZoom:6})))}},{key:\"renderRightPanel\",value:function(){var e=this.props.call,a={wasApptBooked:e.wasApptBooked};return o.default.createElement(\"div\",{className:f.default.rightPanel},o.default.createElement(\"div\",{className:f.default.title},\"Recording\"),e.recording?o.default.createElement(\"div\",{className:f.default.playerWrapper},o.default.createElement(\"audio\",{controls:!0,controlsList:\"nodownload\"},o.default.createElement(\"source\",{src:e.recording,type:\"audio/ogg\"}))):o.default.createElement(\"div\",{className:f.default.noData},\" N/A \"),o.default.createElement(\"div\",{className:f.default.title},\"Edit Call Attributes\"),o.default.createElement(\"div\",{className:f.default.appBooked},o.default.createElement(c.default,{label:\"Appointment Booked\",component:o.default.createElement(p,{initialValues:a,id:e.id,handleToggle:this.handleToggle})})))}},{key:\"render\",value:function(){return o.default.createElement(\"div\",{className:f.default.callInfoModal},this.renderLeftPanel(),this.renderRightPanel())}}]),h);function h(e){!function(e,a){if(!(e instanceof a))throw new TypeError(\"Cannot call a class as a function\")}(this,h);var a=function(e,a){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!a||\"object\"!=typeof a&&\"function\"!=typeof a?e:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return a.state={lat:null,lng:null,loaded:!1},a.renderLeftPanel=a.renderLeftPanel.bind(a),a.renderRightPanel=a.renderRightPanel.bind(a),a.handleToggle=a.handleToggle.bind(a),a}p.propTypes={id:d.default.string,handleToggle:d.default.func,initialValues:d.default.objectOf(d.default.bool)},d.default.string,b.propTypes={call:d.default.objectOf(d.default.any),handleCallUpdate:d.default.func},j.default=b}).call(this,y(16))},2987:function(e,a,t){var n=t(2988);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var l={transform:void 0};t(3)(n,l);n.locals&&(e.exports=n.locals)},2988:function(e,a){throw new Error(\"Module build failed (from ../node_modules/sass-loader/lib/loader.js):\\nError: Missing binding /Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/vendor/darwin-x64-64/binding.node\\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 10.x\\n\\nFound bindings for the following environments:\\n  - OS X 64-bit with Node.js 8.x\\n\\nThis usually happens because your environment has changed since running `npm install`.\\nRun `npm rebuild node-sass` to download the binding for your current environment.\\n    at module.exports (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/binding.js:15:13)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/index.js:14:35)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/sass-loader/lib/loader.js:3:14)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:18:17)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at runLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:365:2)\\n    at NormalModule.doBuild (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:265:3)\\n    at NormalModule.build (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:412:15)\\n    at Compilation.buildModule (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:616:10)\\n    at factory.create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:857:14)\\n    at factory (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:405:6)\\n    at hooks.afterResolve.callAsync (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:155:13)\\n    at AsyncSeriesWaterfallHook.eval [as callAsync] (eval at create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:6:1)\\n    at resolver (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:138:29)\")},2989:function(e,a,t){var n=t(2990);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var l={transform:void 0};t(3)(n,l);n.locals&&(e.exports=n.locals)},2990:function(e,a){throw new Error(\"Module build failed (from ../node_modules/sass-loader/lib/loader.js):\\nError: Missing binding /Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/vendor/darwin-x64-64/binding.node\\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 10.x\\n\\nFound bindings for the following environments:\\n  - OS X 64-bit with Node.js 8.x\\n\\nThis usually happens because your environment has changed since running `npm install`.\\nRun `npm rebuild node-sass` to download the binding for your current environment.\\n    at module.exports (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/binding.js:15:13)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/node-sass/lib/index.js:14:35)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at Object.<anonymous> (/Users/lucas/GitHub/carecru/frontend/node_modules/sass-loader/lib/loader.js:3:14)\\n    at Module._compile (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:192:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\\n    at Module.load (internal/modules/cjs/loader.js:653:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\\n    at Module.require (internal/modules/cjs/loader.js:692:17)\\n    at require (/Users/lucas/GitHub/carecru/frontend/node_modules/v8-compile-cache/v8-compile-cache.js:161:20)\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:18:17)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:176:18\\n    at loadLoader (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/loadLoader.js:47:3)\\n    at iteratePitchingLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at runLoaders (/Users/lucas/GitHub/carecru/frontend/node_modules/loader-runner/lib/LoaderRunner.js:365:2)\\n    at NormalModule.doBuild (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:265:3)\\n    at NormalModule.build (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModule.js:412:15)\\n    at Compilation.buildModule (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:616:10)\\n    at factory.create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/Compilation.js:857:14)\\n    at factory (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:405:6)\\n    at hooks.afterResolve.callAsync (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:155:13)\\n    at AsyncSeriesWaterfallHook.eval [as callAsync] (eval at create (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:6:1)\\n    at resolver (/Users/lucas/GitHub/carecru/frontend/node_modules/webpack/lib/NormalModuleFactory.js:138:29)\")}}]);","extractedComments":[]}