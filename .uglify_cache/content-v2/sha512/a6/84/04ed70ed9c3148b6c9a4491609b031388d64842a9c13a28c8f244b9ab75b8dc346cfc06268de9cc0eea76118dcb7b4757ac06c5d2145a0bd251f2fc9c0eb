{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{2563:function(e,t,a){var l=a(2986);\"string\"==typeof l&&(l=[[e.i,l,\"\"]]);var r={transform:void 0};a(5)(l,r);l.locals&&(e.exports=l.locals)},2979:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var o=a(1),s=h(o),n=h(a(0)),i=h(a(6)),d=a(21),c=a(15),_=a(16),u=h(a(367)),f=h(a(2980)),p=a(72),m=a(61);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a,l,r){return{startDate:e.toDate(),endDate:t.toDate(),accountId:a,skip:l,limit:r}}var b=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,o.Component),l(g,[{key:\"componentDidMount\",value:function(){var l=this,e=localStorage.getItem(\"token\"),r=(0,u.default)(e),t=this.state,a=t.startDate,o=t.endDate,s=t.skip,n=t.limit,i=y(a,o,r.activeAccountId,s,n);this.fetchCallData(i).then(function(e){var t=Object.keys(e[1].calls||{}).length,a=t===l.state.limit;l.setState({skip:l.state.skip+t,moreData:a,callsLength:t,accountId:r.activeAccountId})})}},{key:\"componentWillUnmount\",value:function(){this.props.deleteAllEntity(\"calls\")}},{key:\"handleDateRange\",value:function(e){var l=this,r=(0,i.default)(e.from),o=(0,i.default)(e.to);if(r.isValid()&&o.isValid()&&r.toISOString()!==o.toISOString()){this.props.deleteAllEntity(\"calls\");var t=this.state,s=t.limit,a=t.accountId,n=y(r,o,a,0,s);this.fetchCallData(n).then(function(e){var t=Object.keys(e[1].calls).length,a=t===s;l.setState({moreData:a,skip:s,callsLength:t,startDate:r,endDate:o})})}}},{key:\"loadMore\",value:function(){var l=this,e=this.state,t=e.startDate,a=e.endDate,r=e.accountId,o=e.skip,s=e.limit,n=e.callsLength,i=y(t,a,r,o,s);this.setState({fetchingCalls:!0}),this.props.fetchEntities({id:\"calls\",url:\"/api/calls\",join:[\"patient\"],params:i}).then(function(e){var t=Object.keys(e.calls||{}).length,a=t===s;l.setState({skip:o+s,moreData:a,callsLength:n+t,fetchingCalls:!1})})}},{key:\"fetchCallData\",value:function(e){return Promise.all([this.props.fetchEntitiesRequest({id:\"callGraphStats\",url:\"/api/calls/statsgraph\",params:e}),this.props.fetchEntitiesRequest({id:\"calls\",url:\"/api/calls\",join:[\"patient\"],params:e})])}},{key:\"handleCallUpdate\",value:function(e,t){this.props.updateEntityRequest({key:\"calls\",values:{wasApptBooked:t},url:\"/api/calls/\"+e})}},{key:\"render\",value:function(){var e=this.props,t=e.callGraphStats,a=e.calls,l=e.patients,r=e.wasCallsFetched,o=e.wasStatsFetched;return s.default.createElement(f.default,{calls:a,callGraphStats:t,patients:l,handleDateRange:this.handleDateRange,loadMore:this.loadMore,moreData:this.state.moreData,startDate:this.state.startDate,endDate:this.state.endDate,wasCallsFetched:r,wasStatsFetched:o,callsLength:this.state.callsLength,handleCallUpdate:this.handleCallUpdate,fetchingCalls:this.state.fetchingCalls})}}]),g);function g(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,g);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return t.state={endDate:(0,i.default)().endOf(\"day\"),startDate:(0,i.default)().subtract(1,\"months\"),skip:0,limit:25,moreData:!1,callsLength:0,accountId:null,fetchingCalls:!1},t.loadMore=t.loadMore.bind(t),t.handleDateRange=t.handleDateRange.bind(t),t.fetchCallData=t.fetchCallData.bind(t),t.handleCallUpdate=t.handleCallUpdate.bind(t),t}b.propTypes={callGraphStats:n.default.instanceOf(d.Record),patients:n.default.instanceOf(d.Map),calls:n.default.instanceOf(d.Map),fetchEntitiesRequest:n.default.func.isRequired,fetchEntities:n.default.func.isRequired,updateEntityRequest:n.default.func.isRequired,deleteAllEntity:n.default.func.isRequired,wasCallsFetched:n.default.bool,wasStatsFetched:n.default.bool},b.defaultProps={wasCallsFetched:!1,wasStatsFetched:!1,calls:null,patients:null,callGraphStats:null},t.default=(0,c.connect)(function(e){var t=e.entities,a=e.apiRequests,l=a.get(\"callGraphStats\")||null,r=a.get(\"callGraphStats\")&&a.get(\"callGraphStats\").wasFetched||null,o=a.get(\"calls\")&&a.get(\"calls\").wasFetched||null;return{callGraphStats:l,calls:t.getIn([\"calls\",\"models\"]),patients:t.getIn([\"patients\",\"models\"]),wasCallsFetched:o,wasStatsFetched:r}},function(e){return(0,_.bindActionCreators)({fetchEntitiesRequest:p.fetchEntitiesRequest,updateEntityRequest:p.updateEntityRequest,fetchEntities:p.fetchEntities,deleteAllEntity:m.deleteAllEntity},e)})(b)},2980:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var o=a(1),y=d(o),s=d(a(0)),n=d(a(6)),i=a(21),b=d(a(2981)),g=d(a(2984)),v=d(a(2987)),x=a(8),w=d(a(2990));function d(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,o.Component),l(_,[{key:\"componentDidMount\",value:function(){this.callsContainerHeight=document.getElementById(\"callsContainer\").clientHeight}},{key:\"openCallModal\",value:function(e){this.setState({selectedCall:e,isCallModalOpen:!0})}},{key:\"reinitializeState\",value:function(){this.setState({selectedCall:null,isCallModalOpen:!1})}},{key:\"render\",value:function(){var e=this.props,t=e.callGraphStats,a=e.startDate,l=e.endDate,r=e.handleDateRange,o=e.wasStatsFetched,s=e.wasCallsFetched,n=e.moreData,i=e.loadMore,d=e.patients,c=e.calls,_=e.callsLength,u=e.handleCallUpdate,f=e.fetchingCalls,p=o&&s,m=w.default.cardTable,h=p?function(e,t){return 25<=e&&700<t?{maxHeight:t+30+\"px\",marginBottom:\"15px\"}:0<e&&e<=5?{flex:1}:5<e?{marginBottom:\"15px\",flex:1}:{}}(c.size,this.callsContainerHeight):{};return s&&c.size||(m=w.default.emptyTable),y.default.createElement(\"div\",{className:w.default.callsContainer,id:\"callsContainer\"},y.default.createElement(x.Card,{runAnimation:!0,loaded:o,className:w.default.cardGraph},y.default.createElement(\"div\",{className:w.default.headerGraph},y.default.createElement(\"div\",{className:w.default.headerGraph_title},\"Calls\"),y.default.createElement(\"div\",null,y.default.createElement(x.DayPickerRange,{popover:!0,disabledDays:{after:new Date},from:a.toDate(),to:l.toDate(),onChange:r,monthsToShow:2,maxDays:60}))),o&&y.default.createElement(b.default,{callGraphStats:t,startDate:a,endDate:l})),y.default.createElement(x.Card,{runAnimation:!0,loaded:p&&!f,className:m,style:h},p&&y.default.createElement(g.default,{calls:c,callGraphStats:t,patients:d,loadMore:i,moreData:n,startDate:a,endDate:l,wasCallsFetched:s,wasStatsFetched:o,callsLength:_,openCallModal:this.openCallModal}),p&&y.default.createElement(x.DialogBox,{title:\"Call Details\",active:this.state.isCallModalOpen,onEscKeyDown:this.reinitializeState,onOverlayClick:this.reinitializeState,custom:!0},this.state.selectedCall&&y.default.createElement(v.default,{call:this.state.selectedCall,handleCallUpdate:u}))))}}]),_);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,_);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,e));return t.state={isCallModalOpen:!1,selectedCall:null},t.openCallModal=t.openCallModal.bind(t),t.reinitializeState=t.reinitializeState.bind(t),t}c.propTypes={callGraphStats:s.default.instanceOf(i.Record),startDate:s.default.instanceOf(n.default),endDate:s.default.instanceOf(n.default),handleDateRange:s.default.func,wasStatsFetched:s.default.bool,wasCallsFetched:s.default.bool,moreData:s.default.bool,loadMore:s.default.func,patients:s.default.instanceOf(i.Map),calls:s.default.instanceOf(i.Map),callsLength:s.default.number,handleCallUpdate:s.default.func.isRequired,fetchingCalls:s.default.bool},t.default=c},2981:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(a(1)),l=s(a(0)),r=s(a(6)),o=a(21),d=a(8),c=s(a(2982));function s(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.callGraphStats.toJS().data,a=t.xValues,l=t.yValues,r=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(l)),o={fontSize:14,fontFamily:\"Gotham-Book\",fontColor:\"#206477\",padding:20,maxRotation:0,autoSkip:!1,beginAtZero:!0,callback:function(e,t){if(\"number\"==typeof e&&Number.isSafeInteger(e)){if(10<r&&e%5==0)return e;if(e%2==0)return e}return t%2==0&&\"number\"!=typeof e&&a.length<45?\"\":t%2!=0&&a.length<45&&\"number\"!=typeof e?e:45<a.length&&\"number\"!=typeof e&&t%5==0?e:null}},s={maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:o,gridLines:{beginAtZero:!0,drawTicks:!1,tickMarkLength:20,offsetGridLines:!1,display:!0}}],xAxes:[{ticks:o,gridLines:{display:!1,tickMarkLength:20}}],scaleLabel:{paddingTop:30}}},n=[{label:\"Calls Received\",color:\"dark\",data:l.slice(0,-1),fill:!1,pointColor:\"white\",pointHoverColor:\"white\"}];return i.default.createElement(\"div\",{className:c.default.callsGraphContainer},i.default.createElement(\"div\",{className:c.default.subHeader},e.startDate.format(\"MMMM DD, YYYY\"),\" -\",\" \",e.endDate.format(\"MMMM DD, YYYY\")),i.default.createElement(\"div\",{className:c.default.callGraph},i.default.createElement(d.LineChart,{displayTooltips:!0,labels:a,height:240,dataSets:n,options:s})))}n.propTypes={startDate:l.default.instanceOf(r.default),endDate:l.default.instanceOf(r.default),callGraphStats:l.default.instanceOf(o.Record)},t.default=n},2982:function(e,t,a){var l=a(2983);\"string\"==typeof l&&(l=[[e.i,l,\"\"]]);var r={transform:void 0};a(5)(l,r);l.locals&&(e.exports=l.locals)},2983:function(e,t,a){(t=e.exports=a(4)(!1)).push([e.i,\".styles__borderTopRight___QbLj7{border-top-right-radius:4px}.styles__borderBottomRight___oWatt{border-bottom-right-radius:4px}.styles__borderTopLeft___1ugzp{border-top-left-radius:4px}.styles__borderBottomLeft___2AEMH{border-bottom-left-radius:4px}.styles__ui-kit-smoother___3Nnon{transition:all .15s}.styles__callsGraphContainer___3VJPz{padding:30px;display:flex;flex-direction:column;box-sizing:border-box}.styles__subHeader___2zctk{font-size:15px;margin-bottom:25px}.styles__callGraph___1R_Sp{flex:1;height:100%;position:relative}.styles__callGraph___1R_Sp canvas{box-sizing:border-box}.styles__formDrop___3bqXv{padding:10px}.styles__formDrop___3bqXv button{background-color:#206477;margin-left:auto;width:100%}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___QbLj7\",borderBottomRight:\"styles__borderBottomRight___oWatt\",borderTopLeft:\"styles__borderTopLeft___1ugzp\",borderBottomLeft:\"styles__borderBottomLeft___2AEMH\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___3Nnon\",callsGraphContainer:\"styles__callsGraphContainer___3VJPz\",subHeader:\"styles__subHeader___2zctk\",callGraph:\"styles__callGraph___1R_Sp\",formDrop:\"styles__formDrop___3bqXv\"}},2984:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e};function r(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var o=f(a(0)),s=a(1),n=f(s),i=f(a(6)),d=a(21),c=a(8),_=f(a(2985)),u=f(a(2563));function f(e){return e&&e.__esModule?e:{default:e}}var p=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,s.Component),l(m,[{key:\"componentDidMount\",value:function(){var e=this.props.callGraphStats.toJS().data.yValues;this.yDataCount=e.filter(function(e){return 0!==e}).reduce(function(e,t){return e+t},0)}},{key:\"render\",value:function(){var e=this.props,t=e.calls,o=e.patients,a=e.callsLength,s=e.openCallModal,l=t.toArray().sort(function(e,t){return(0,i.default)(t.startTime).diff(e.startTime)}).filter(function(e,t){return t<a}),r=l.map(function(e,t){var a=e.toJS(),l=a.patientId?o.get(a.patientId):null,r=a.patientId?o.get(a.patientId).firstName+\" \"+o.get(a.patientId).lastName:a.callerName;return a.callerName=r,n.default.createElement(\"div\",{className:u.default.callListItem,onClick:function(){return s(a)},key:\"callContainer_\"+a.id,role:\"button\",tabIndex:t,onKeyDown:function(e){return\"13\"===e.keyCode&&s(a)}},n.default.createElement(_.default,{key:a.id,id:a.id,index:t,callSource:a.callSource,startTime:a.startTime,callerNum:a.callerNum,callerCity:a.callerCity,callerName:r,duration:a.duration,answered:a.answered,wasApptBooked:!!a.wasApptBooked,recording:a.recording,patient:l}))});return n.default.createElement(\"div\",{className:u.default.callTableContainer},n.default.createElement(\"div\",{className:u.default.header},n.default.createElement(\"div\",{className:u.default.title},\" \",this.yDataCount,\" Calls \"),n.default.createElement(\"div\",{className:u.default.rowHeader},n.default.createElement(\"div\",{className:u.default.colSmall},\"#\"),n.default.createElement(\"div\",{className:u.default.col},\"Source Name\"),n.default.createElement(\"div\",{className:u.default.col},\"Caller\"),n.default.createElement(\"div\",{className:u.default.col},\"Start Time\"),n.default.createElement(\"div\",{className:u.default.col},\"Duration\"),n.default.createElement(\"div\",{className:u.default.col},\"City\"),n.default.createElement(\"div\",{className:u.default.col},\"Appointment Booked\"),n.default.createElement(\"div\",{className:u.default.colEmpty}))),n.default.createElement(\"div\",{className:u.default.callTableBody},n.default.createElement(c.InfiniteScroll,{loadMore:this.props.loadMore,hasMore:this.props.moreData||a!==l.length,initialLoad:!1,useWindow:!1,threshold:1},r)))}}]),m);function m(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,m),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}p.propTypes={calls:o.default.instanceOf(d.Map),patients:o.default.instanceOf(d.Map),moreData:o.default.bool,loadMore:o.default.func.isRequired,callGraphStats:o.default.instanceOf(d.Record),callsLength:o.default.number,openCallModal:o.default.func.isRequired},p.defaultProps={calls:new d.Map,patients:new d.Map,moreData:!1,callsLength:0,callGraphStats:new d.Record},t.default=p},2985:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=s;var p=o(a(1)),l=o(a(0)),m=o(a(6)),h=a(22),y=a(8),b=o(a(950)),r=a(59),g=o(a(2563));function o(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){return e?60<t?Math.round(t/60)+\"min \"+t%60+\"sec\":t+\"s\":\"unanswered\"};function s(e){var t=e.callSource,a=e.startTime,l=e.callerNum,r=e.callerCity,o=e.callerName,s=e.duration,n=e.answered,i=e.wasApptBooked,d=e.recording,c=e.index,_=e.patient,u=n?g.default.phone:g.default.phoneMissed,f=v(n,s);return p.default.createElement(\"div\",{className:g.default.row},p.default.createElement(\"div\",{className:g.default.colSmall},c+1),p.default.createElement(\"div\",{className:g.default.col},p.default.createElement(y.Icon,{icon:\"phone\",\"data-fa-transform\":\"rotate-90\",type:\"solid\",size:1.3,className:u}),\" \",p.default.createElement(\"span\",{className:g.default.column_source},t)),p.default.createElement(\"div\",{className:g.default.col},_?p.default.createElement(\"div\",null,p.default.createElement(b.default,{patient:_,isPatientUser:!1},p.default.createElement(\"div\",{className:g.default.patientStyle},p.default.createElement(\"div\",null,p.default.createElement(y.Icon,{icon:\"user-circle\"})),p.default.createElement(\"span\",{className:g.default.callerName},o))),p.default.createElement(\"div\",{className:g.default.callerNum},(0,h.formatPhoneNumber)(l))):p.default.createElement(\"div\",{className:g.default.callerInfo},p.default.createElement(\"div\",null,o||\"Unknown\"),p.default.createElement(\"div\",{className:g.default.callerNum},(0,h.formatPhoneNumber)(l)))),p.default.createElement(\"div\",{className:g.default.col},(0,m.default)(a).format(\"MMM DD, h:mma\")),p.default.createElement(\"div\",{className:g.default.col},f),p.default.createElement(\"div\",{className:g.default.col},r),p.default.createElement(\"div\",{className:g.default.col},p.default.createElement(\"div\",{className:g.default.appBooked},i?\"YES\":\"NO\",d&&p.default.createElement(\"div\",null,p.default.createElement(y.Icon,{icon:\"volume-up\",type:\"solid\"})))),p.default.createElement(\"div\",{className:g.default.colEmpty}))}s.propTypes={callSource:l.default.string,startTime:l.default.string,callerNum:l.default.string,callerCity:l.default.string,callerName:l.default.string,recording:l.default.string,duration:l.default.number,answered:l.default.bool,wasApptBooked:l.default.bool,index:l.default.number,patient:l.default.shape(r.PatientShape)}},2986:function(e,t,a){(t=e.exports=a(4)(!1)).i(a(3),void 0),t.push([e.i,\".styles__borderTopRight___1iprH{border-top-right-radius:4px}.styles__borderBottomRight___3R0Ux{border-bottom-right-radius:4px}.styles__borderTopLeft___AFGsW{border-top-left-radius:4px}.styles__borderBottomLeft___2MT_v{border-bottom-left-radius:4px}.styles__ui-kit-smoother___2FLiF{transition:all .15s}.styles__callTableBody___2dpQz,.styles__callTableContainer___2belB{display:flex;flex-direction:column;max-height:900px;overflow:auto;overflow-x:hidden;box-sizing:border-box}.styles__title___1dcRt{font-size:25px;color:#2e3845;padding:30px}.styles__callTableBody___2dpQz{padding:0}.styles__callListItem___o5_im{cursor:pointer;outline:none}.styles__callListItem___o5_im:hover{background-color:#efefef}.styles__callListItem___o5_im:last-child{border-bottom:0}.styles__header___2eIci{border-bottom:1px solid #efefef}.styles__rowHeader___3chj0{padding-bottom:20px;color:#808081;text-transform:uppercase}.styles__row___3Jrwl,.styles__rowHeader___3chj0{display:flex;flex-direction:row;width:100%;font-size:12px;padding-left:30px}.styles__row___3Jrwl{height:55px;color:#2e3845;border-bottom:1px solid #efefef}.styles__col___HImM5,.styles__colExtraSmall___3msJn,.styles__colSmall___2haNj,.styles__colStyling___1KYx0{display:flex;align-items:center;justify-content:flex-start;text-align:left;text-transform:capitalize}.styles__col___HImM5{flex:1;width:170px}.styles__colEmpty___1uY8H{width:20px}.styles__colSmall___2haNj{padding-left:10px;width:100px}.styles__colExtraSmall___3msJn{width:50px}.styles__phone___1Qlgj{color:#2cc4a7}.styles__phoneMissed___1YUrM{color:#ff715c}.styles__appBooked___32XoZ{width:30%;min-width:50px;display:flex;align-items:center;justify-content:space-between}.styles__playIcon___29TSk{cursor:pointer}.styles__unknown___1Sx_F{color:#2cc4a7}.styles__patientStyle___3sU-Y{display:flex;align-items:center}.styles__patientStyle___3sU-Y div{margin-right:5px}.styles__callerNum___2m-p0{padding-top:7px}.styles__callerName___1eAqc{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:140px}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___1iprH\",borderBottomRight:\"styles__borderBottomRight___3R0Ux\",borderTopLeft:\"styles__borderTopLeft___AFGsW\",borderBottomLeft:\"styles__borderBottomLeft___2MT_v\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___2FLiF\",callTableContainer:\"styles__callTableContainer___2belB\",callTableBody:\"styles__callTableBody___2dpQz\",title:\"styles__title___1dcRt \"+a(3).locals.fontMedium,callListItem:\"styles__callListItem___o5_im\",header:\"styles__header___2eIci\",rowHeader:\"styles__rowHeader___3chj0\",row:\"styles__row___3Jrwl\",colStyling:\"styles__colStyling___1KYx0 \"+a(3).locals.fontMedium,col:\"styles__col___HImM5 \"+a(3).locals.fontMedium,colSmall:\"styles__colSmall___2haNj \"+a(3).locals.fontMedium,colExtraSmall:\"styles__colExtraSmall___3msJn \"+a(3).locals.fontMedium,colEmpty:\"styles__colEmpty___1uY8H\",phone:\"styles__phone___1Qlgj\",phoneMissed:\"styles__phoneMissed___1YUrM\",appBooked:\"styles__appBooked___32XoZ\",playIcon:\"styles__playIcon___29TSk\",unknown:\"styles__unknown___1Sx_F\",patientStyle:\"styles__patientStyle___3sU-Y\",callerNum:\"styles__callerNum___2m-p0\",callerName:\"styles__callerName___1eAqc\"}},2987:function(e,y,b){\"use strict\";(function(l){Object.defineProperty(y,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},e=function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e};function o(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var t=b(1),s=f(t),a=f(b(6)),n=f(b(2519)),i=f(b(0)),d=b(22),c=f(b(187)),_=b(8),u=f(b(2988));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.initialValues,a=e.id,l=e.handleToggle;return s.default.createElement(_.Form,{form:\"appBookedForm_\"+a,onChange:l,initialValues:t,ignoreSaveButton:!0},s.default.createElement(_.Field,{name:\"wasApptBooked\",component:\"Toggle\"}))}var m=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,t.Component),e(h,[{key:\"componentDidMount\",value:function(){var a=this,e=this.props.call,t=e.callerCity+\" \"+e.callerState;fetch(\"https://maps.googleapis.com/maps/api/geocode/json?address=\"+t+\"+&key=AIzaSyA6U9et5P5Zjn4DIeZpTlBY7wNr21dvc9Q\").then(function(e){return e.json()}).then(function(e){var t=e.results[0];a.setState(r({loaded:!0},t.geometry.location))},function(e){l.error(e),a.setState({loaded:!1})})}},{key:\"handleToggle\",value:function(e){var t=this.props.call;return this.props.handleCallUpdate(t.id,e.wasApptBooked)}},{key:\"renderLeftPanel\",value:function(){var e=this.props.call,t=e.callerCity&&e.callerState?e.callerCity+\", \"+e.callerState:null;return s.default.createElement(\"div\",{className:u.default.leftPanel},s.default.createElement(\"div\",{className:u.default.title},\"Caller Info\"),s.default.createElement(\"div\",{className:u.default.row},s.default.createElement(c.default,{label:\"Name\",data:e.callerName}),s.default.createElement(c.default,{label:\"Initial Source\",data:e.callSource})),s.default.createElement(\"div\",{className:u.default.row},s.default.createElement(c.default,{label:\"Received\",data:(0,a.default)(e.startTime).format(\"MMM DD, YYYY h:mm A\")}),s.default.createElement(c.default,{label:\"Phone number\",data:(0,d.formatPhoneNumber)(e.callerNum)})),s.default.createElement(\"div\",{className:u.default.row},s.default.createElement(c.default,{label:\"Total calls\",data:e.totalCalls}),s.default.createElement(c.default,{label:\"Caller ID\",data:t})),this.state.loaded&&s.default.createElement(\"div\",{className:u.default.map},s.default.createElement(n.default,{bootstrapURLKeys:{key:\"AIzaSyA6U9et5P5Zjn4DIeZpTlBY7wNr21dvc9Q\"},defaultCenter:{lat:this.state.lat,lng:this.state.lng},defaultZoom:6})))}},{key:\"renderRightPanel\",value:function(){var e=this.props.call,t={wasApptBooked:e.wasApptBooked};return s.default.createElement(\"div\",{className:u.default.rightPanel},s.default.createElement(\"div\",{className:u.default.title},\"Recording\"),e.recording?s.default.createElement(\"div\",{className:u.default.playerWrapper},s.default.createElement(\"audio\",{controls:!0,controlsList:\"nodownload\"},s.default.createElement(\"source\",{src:e.recording,type:\"audio/ogg\"}))):s.default.createElement(\"div\",{className:u.default.noData},\" N/A \"),s.default.createElement(\"div\",{className:u.default.title},\"Edit Call Attributes\"),s.default.createElement(\"div\",{className:u.default.appBooked},s.default.createElement(c.default,{label:\"Appointment Booked\",component:s.default.createElement(p,{initialValues:t,id:e.id,handleToggle:this.handleToggle})})))}},{key:\"render\",value:function(){return s.default.createElement(\"div\",{className:u.default.callInfoModal},this.renderLeftPanel(),this.renderRightPanel())}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.state={lat:null,lng:null,loaded:!1},t.renderLeftPanel=t.renderLeftPanel.bind(t),t.renderRightPanel=t.renderRightPanel.bind(t),t.handleToggle=t.handleToggle.bind(t),t}p.propTypes={id:i.default.string,handleToggle:i.default.func,initialValues:i.default.objectOf(i.default.bool)},i.default.string,m.propTypes={call:i.default.objectOf(i.default.any),handleCallUpdate:i.default.func},y.default=m}).call(this,b(18))},2988:function(e,t,a){var l=a(2989);\"string\"==typeof l&&(l=[[e.i,l,\"\"]]);var r={transform:void 0};a(5)(l,r);l.locals&&(e.exports=l.locals)},2989:function(e,t,a){(t=e.exports=a(4)(!1)).i(a(3),void 0),t.push([e.i,\".styles__borderTopRight___25Izl{border-top-right-radius:4px}.styles__borderBottomRight___3M2AX{border-bottom-right-radius:4px}.styles__borderTopLeft___9qoK2{border-top-left-radius:4px}.styles__borderBottomLeft___2PBPC{border-bottom-left-radius:4px}.styles__ui-kit-smoother___2Sq9f{transition:all .15s}.styles__callInfoModal___3VjEo{height:auto;width:600px;display:flex;flex-direction:row;box-sizing:border-box;padding:10px}.styles__leftPanel___2zhwR{width:60%;height:100%;padding-right:20px;box-sizing:border-box;border-right:1px solid #efefef}.styles__rightPanel___2FATx{width:40%;height:100%;box-sizing:border-box;padding-left:20px}.styles__row___2pyQF{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-bottom:30px}.styles__map___26Uqj{width:100%;height:168px;box-sizing:border-box;border:1px solid #efefef}.styles__title___1rUwc{font-size:14px;margin-bottom:15px}.styles__marker___3Gkwb{border:3px solid #ff715a;border-radius:50%;width:15px;height:15px}.styles__playerWrapper___2EbHb{display:flex;align-items:center;margin-bottom:20px;width:200px;overflow:hidden}.styles__reactPlayer___DtvS9{position:absolute;top:0;left:0}.styles__appBooked___2NDf3 form>div{display:unset}.styles__noData___j2tAY{color:#2e3845;margin-bottom:20px}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___25Izl\",borderBottomRight:\"styles__borderBottomRight___3M2AX\",borderTopLeft:\"styles__borderTopLeft___9qoK2\",borderBottomLeft:\"styles__borderBottomLeft___2PBPC\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___2Sq9f\",callInfoModal:\"styles__callInfoModal___3VjEo\",leftPanel:\"styles__leftPanel___2zhwR\",rightPanel:\"styles__rightPanel___2FATx\",row:\"styles__row___2pyQF\",map:\"styles__map___26Uqj\",title:\"styles__title___1rUwc \"+a(3).locals.fontMedium,marker:\"styles__marker___3Gkwb\",playerWrapper:\"styles__playerWrapper___2EbHb\",reactPlayer:\"styles__reactPlayer___DtvS9\",appBooked:\"styles__appBooked___2NDf3\",noData:\"styles__noData___j2tAY \"+a(3).locals.fontMedium}},2990:function(e,t,a){var l=a(2991);\"string\"==typeof l&&(l=[[e.i,l,\"\"]]);var r={transform:void 0};a(5)(l,r);l.locals&&(e.exports=l.locals)},2991:function(e,t,a){(t=e.exports=a(4)(!1)).i(a(3),void 0),t.push([e.i,\".styles__borderTopRight___3CIaT{border-top-right-radius:4px}.styles__borderBottomRight___3wW1s{border-bottom-right-radius:4px}.styles__borderTopLeft___3jRWv{border-top-left-radius:4px}.styles__borderBottomLeft___MUZFh{border-bottom-left-radius:4px}.styles__ui-kit-smoother___1qdCy{transition:all .15s}.styles__callsContainer___2SSWs{height:100%;width:100%;display:flex;flex-direction:column;box-sizing:border-box;padding:15px}.styles__cardGraph___1-Ntd{margin-bottom:15px;min-height:405px;box-sizing:border-box}.styles__cardTable___3OjOd{box-sizing:border-box}.styles__emptyTable___HXW3I{box-sizing:border-box;min-height:300px;height:300px;flex:1;margin-bottom:0}.styles__headerGraph___cq2Zb{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:30px 30px 0;width:100%;box-sizing:border-box}.styles__headerGraph_title___1l5Wy{font-size:25px;color:#2e3845}.styles__headerGraph_calendar___3BScU{width:200px;display:flex;justify-content:flex-end}.styles__headerGraph_calendar___3BScU div{cursor:pointer}.styles__headerGraph_calendar___3BScU div:hover{color:#ff715c}\",\"\"]),t.locals={borderTopRight:\"styles__borderTopRight___3CIaT\",borderBottomRight:\"styles__borderBottomRight___3wW1s\",borderTopLeft:\"styles__borderTopLeft___3jRWv\",borderBottomLeft:\"styles__borderBottomLeft___MUZFh\",\"ui-kit-smoother\":\"styles__ui-kit-smoother___1qdCy\",callsContainer:\"styles__callsContainer___2SSWs\",cardGraph:\"styles__cardGraph___1-Ntd\",cardTable:\"styles__cardTable___3OjOd\",emptyTable:\"styles__emptyTable___HXW3I\",headerGraph:\"styles__headerGraph___cq2Zb\",headerGraph_title:\"styles__headerGraph_title___1l5Wy \"+a(3).locals.fontMedium,headerGraph_calendar:\"styles__headerGraph_calendar___3BScU\"}}}]);","extractedComments":[]}